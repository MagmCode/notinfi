!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function i(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[2637],{52637:function(e,i,o){o.r(i),o.d(i,{ScrumboardModule:function(){return It}});var a,s=o(63423),u=o(83461),c=o(51095),l=o(7539),d=o(22238),f=o(72458),p=o(43220),m=o(98295),b=o(76627),h=o(83166),g=o(33935),v=o(36063),x=o(12178),y=o(16738),k=o(44466),_=o(79765),Z=o(46782),w=o(37716),A=o(26215),T=o(40205),q=o(25917),I=o(88002),C=o(93342),D=o(15257),J=o(43190),L=function t(e){n(this,t),this.id=e.id||null,this.title=e.title,this.description=e.description||null,this.icon=e.icon||null,this.lastActivity=e.lastActivity||null,this.lists=[],this.labels=[],this.members=[],e.lists&&(this.lists=e.lists.map(function(t){return t instanceof Q?t:new Q(t)})),e.labels&&(this.labels=e.labels.map(function(t){return t instanceof B?t:new B(t)})),e.members&&(this.members=e.members.map(function(t){return t instanceof F?t:new F(t)}))},Q=function t(e){n(this,t),this.id=e.id||null,this.boardId=e.boardId,this.position=e.position,this.title=e.title,this.cards=[],e.cards&&(this.cards=e.cards.map(function(t){return t instanceof U?t:new U(t)}))},U=function t(e){n(this,t),this.id=e.id||null,this.boardId=e.boardId,this.listId=e.listId,this.position=e.position,this.title=e.title,this.description=e.description||null,this.labels=[],this.dueDate=e.dueDate||null,e.labels&&(this.labels=e.labels.map(function(t){return t instanceof B?t:new B(t)}))},F=function t(e){n(this,t),this.id=e.id||null,this.name=e.name,this.avatar=e.avatar||null},B=function t(e){n(this,t),this.id=e.id||null,this.boardId=e.boardId,this.title=e.title},O=o(91841),S=((a=function(){function e(t){n(this,e),this._httpClient=t,this._board=new A.X(null),this._boards=new A.X(null),this._card=new A.X(null)}return r(e,[{key:"board$",get:function(){return this._board.asObservable()}},{key:"boards$",get:function(){return this._boards.asObservable()}},{key:"card$",get:function(){return this._card.asObservable()}},{key:"getBoards",value:function(){var t=this;return this._httpClient.get("api/apps/scrumboard/boards").pipe((0,I.U)(function(t){return t.map(function(t){return new L(t)})}),(0,C.b)(function(e){return t._boards.next(e)}))}},{key:"getBoard",value:function(t){var e=this;return this._httpClient.get("api/apps/scrumboard/board",{params:{id:t}}).pipe((0,I.U)(function(t){return new L(t)}),(0,C.b)(function(t){return e._board.next(t)}))}},{key:"createBoard",value:function(e){var i=this;return this.boards$.pipe((0,D.q)(1),(0,J.w)(function(r){return i._httpClient.put("api/apps/scrumboard/board",{board:e}).pipe((0,I.U)(function(e){return i._boards.next([].concat(t(r),[e])),e}))}))}},{key:"updateBoard",value:function(t,e){var i=this;return this.boards$.pipe((0,D.q)(1),(0,J.w)(function(r){return i._httpClient.patch("api/apps/scrumboard/board",{id:t,board:e}).pipe((0,I.U)(function(e){var n=r.findIndex(function(e){return e.id===t});return r[n]=e,i._boards.next(r),e}))}))}},{key:"deleteBoard",value:function(t){var e=this;return this.boards$.pipe((0,D.q)(1),(0,J.w)(function(i){return e._httpClient.delete("api/apps/scrumboard/board",{params:{id:t}}).pipe((0,I.U)(function(r){var n=i.findIndex(function(e){return e.id===t});return i.splice(n,1),e._boards.next(i),e._board.next(null),e._card.next(null),r}))}))}},{key:"createList",value:function(e){var i=this;return this._httpClient.post("api/apps/scrumboard/board/list",{list:e}).pipe((0,I.U)(function(t){return new Q(t)}),(0,C.b)(function(e){var r=i._board.value;r.lists=[].concat(t(r.lists),[e]),r.lists.sort(function(t,e){return t.position-e.position}),i._board.next(r)}))}},{key:"updateList",value:function(t){var e=this;return this._httpClient.patch("api/apps/scrumboard/board/list",{list:t}).pipe((0,I.U)(function(t){return new Q(t)}),(0,C.b)(function(i){var r=e._board.value,n=r.lists.findIndex(function(e){return e.id===t.id});r.lists[n]=i,r.lists.sort(function(t,e){return t.position-e.position}),e._board.next(r)}))}},{key:"updateLists",value:function(t){var e=this;return this._httpClient.patch("api/apps/scrumboard/board/lists",{lists:t}).pipe((0,I.U)(function(t){return t.map(function(t){return new Q(t)})}),(0,C.b)(function(t){var i=e._board.value;t.forEach(function(t){var e=i.lists.findIndex(function(e){return e.id===t.id});i.lists[e]=t}),i.lists.sort(function(t,e){return t.position-e.position}),e._board.next(i)}))}},{key:"deleteList",value:function(t){var e=this;return this._httpClient.delete("api/apps/scrumboard/board/list",{params:{id:t}}).pipe((0,C.b)(function(i){var r=e._board.value,n=r.lists.findIndex(function(e){return e.id===t});r.lists.splice(n,1),r.lists.sort(function(t,e){return t.position-e.position}),e._board.next(r)}))}},{key:"getCard",value:function(t){var e=this;return this._board.pipe((0,D.q)(1),(0,I.U)(function(i){var r=i.lists.find(function(e){return e.cards.some(function(e){return e.id===t})}).cards.find(function(e){return e.id===t});return e._card.next(r),r}),(0,J.w)(function(e){return e?(0,q.of)(e):(0,T._)("Could not found the card with id of "+t+"!")}))}},{key:"createCard",value:function(t){var e=this;return this._httpClient.put("api/apps/scrumboard/board/card",{card:t}).pipe((0,I.U)(function(t){return new U(t)}),(0,C.b)(function(t){var i=e._board.value;return i.lists.forEach(function(e,i,r){e.id===t.listId&&r[i].cards.push(t)}),e._board.next(i),t}))}},{key:"updateCard",value:function(t,e){var i=this;return this.board$.pipe((0,D.q)(1),(0,J.w)(function(r){return i._httpClient.patch("api/apps/scrumboard/board/card",{id:t,card:e}).pipe((0,I.U)(function(e){return r.lists.forEach(function(i){i.cards.forEach(function(i,r,n){i.id===t&&(n[r]=e)})}),i._board.next(r),i._card.next(e),e}))}))}},{key:"updateCards",value:function(t){var e=this;return this._httpClient.patch("api/apps/scrumboard/board/cards",{cards:t}).pipe((0,I.U)(function(t){return t.map(function(t){return new U(t)})}),(0,C.b)(function(t){var i=e._board.value;t.forEach(function(t){var e=i.lists.findIndex(function(e){return e.id===t.listId}),r=i.lists[e].cards.findIndex(function(e){return e.id===t.id});i.lists[e].cards[r]=t,i.lists[e].cards.sort(function(t,e){return t.position-e.position})}),e._board.next(i)}))}},{key:"deleteCard",value:function(t){var e=this;return this.board$.pipe((0,D.q)(1),(0,J.w)(function(i){return e._httpClient.delete("api/apps/scrumboard/board/card",{params:{id:t}}).pipe((0,I.U)(function(r){return i.lists.forEach(function(e){e.cards.forEach(function(e,i,r){e.id===t&&r.splice(i,1)})}),e._board.next(i),e._card.next(null),r}))}))}},{key:"updateCardPositions",value:function(t){}},{key:"createLabel",value:function(e){var i=this;return this.board$.pipe((0,D.q)(1),(0,J.w)(function(r){return i._httpClient.post("api/apps/scrumboard/board/label",{label:e}).pipe((0,I.U)(function(e){return r.labels=[].concat(t(r.labels),[e]),i._board.next(r),e}))}))}},{key:"updateLabel",value:function(t,e){var i=this;return this.board$.pipe((0,D.q)(1),(0,J.w)(function(r){return i._httpClient.patch("api/apps/scrumboard/board/label",{id:t,label:e}).pipe((0,I.U)(function(e){var n=r.labels.findIndex(function(e){return e.id===t});return r.labels[n]=e,i._board.next(r),e}))}))}},{key:"deleteLabel",value:function(t){var e=this;return this.board$.pipe((0,D.q)(1),(0,J.w)(function(i){return e._httpClient.delete("api/apps/scrumboard/board/label",{params:{id:t}}).pipe((0,I.U)(function(r){var n=i.labels.findIndex(function(e){return e.id===t});return i.labels.splice(n,1),r&&i.lists.forEach(function(e){e.cards.forEach(function(e){var i=e.labels.findIndex(function(e){return e.id===t});i>-1&&e.labels.splice(i,1)})}),e._board.next(i),r}))}))}},{key:"search",value:function(t){return this._httpClient.get("api/apps/scrumboard/board/search",{params:{query:t}})}}]),e}()).\u0275fac=function(t){return new(t||a)(w.LFG(O.eN))},a.\u0275prov=w.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),N=o(74937),Y=o(38583);function R(t,e){if(1&t&&(w.ynx(0),w._UZ(1,"img",18),w.BQk()),2&t){var i=e.$implicit;w.xp6(1),w.Q6J("src",i.avatar,w.LSH)}}function M(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",19),w.TgZ(2,"div",20),w._uU(3),w.qZA(),w.qZA(),w.BQk()),2&t){var i=w.oxw(2).$implicit;w.xp6(3),w.hij(" +",i.members.slice(5).length," ")}}function V(t,e){if(1&t&&(w.ynx(0),w._UZ(1,"div",16),w.TgZ(2,"div",17),w.YNc(3,R,2,1,"ng-container",4),w.YNc(4,M,4,1,"ng-container",12),w.qZA(),w.BQk()),2&t){var i=w.oxw().$implicit,r=w.oxw();w.xp6(3),w.Q6J("ngForOf",i.members.slice(0,5))("ngForTrackBy",r.trackByFn),w.xp6(1),w.Q6J("ngIf",i.members.length>5)}}var j=function(t){return[t]};function $(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",7),w.TgZ(2,"div",8),w._UZ(3,"mat-icon",9),w.qZA(),w.TgZ(4,"div",10),w._uU(5),w.qZA(),w.TgZ(6,"div",11),w._uU(7),w.qZA(),w.YNc(8,V,5,3,"ng-container",12),w.TgZ(9,"div",13),w.TgZ(10,"div",14),w._uU(11,"Edited:"),w.qZA(),w.TgZ(12,"div",15),w._uU(13),w.qZA(),w.qZA(),w.qZA(),w.BQk()),2&t){var i=e.$implicit,r=w.oxw();w.xp6(1),w.Q6J("routerLink",w.VKq(6,j,i.id)),w.xp6(2),w.Q6J("svgIcon",i.icon),w.xp6(2),w.Oqu(i.title),w.xp6(2),w.Oqu(i.description),w.xp6(1),w.Q6J("ngIf",null==i.members?null:i.members.length),w.xp6(5),w.Oqu(r.formatDateAsRelative(i.lastActivity))}}var z=function(){var t=function(){function t(e,i){n(this,t),this._changeDetectorRef=e,this._scrumboardService=i,this._unsubscribeAll=new _.xQ}return r(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.boards$.pipe((0,Z.R)(this._unsubscribeAll)).subscribe(function(e){t.boards=e,t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"formatDateAsRelative",value:function(t){return y(t,y.ISO_8601).fromNow()}},{key:"trackByFn",value:function(t,e){return e.id||t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.sBO),w.Y36(S))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-boards"]],decls:8,vars:3,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-auto","items-center","p-6","sm:p-10"],[1,"mt-4","md:mt-24","text-3xl","md:text-6xl","font-extrabold","tracking-tight","leading-7","sm:leading-10"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","mt-8","md:mt-16"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","items-center","justify-center","w-56","rounded-lg","cursor-pointer","border-2","border-gray-300","border-dashed","hover:bg-hover","transition-colors","duration-150","ease-in-out"],[1,"icon-size-12","text-hint",3,"svgIcon"],[1,"flex","flex-col","items-start","w-56","p-6","rounded-lg","shadow","bg-card","rounded-lg","hover:shadow-xl","transition-shadow","duration-150","ease-in-out",3,"routerLink"],[1,"flex","items-center","justify-center","p-4","rounded-full","bg-primary-50","text-primary-700","dark:bg-primary","dark:text-on-primary"],[1,"text-current",3,"svgIcon"],[1,"mt-5","text-lg","font-medium","leading-5"],[1,"mt-0.5","line-clamp-2","text-secondary"],[4,"ngIf"],[1,"flex","items-center","mt-4","text-md","font-md"],[1,"text-secondary"],[1,"ml-1"],[1,"w-12","h-1","mt-6","border-t-2"],[1,"flex","items-center","mt-6","-space-x-1.5"],["alt","Member avatar",1,"flex-0","w-8","h-8","rounded-full","ring","ring-offset-1","ring-bg-card","ring-offset-transparent","object-cover",3,"src"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","rounded-full","ring","ring-offset-1","ring-bg-card","ring-offset-transparent","bg-gray-200","text-gray-500"],[1,"text-md","font-semibold"]],template:function(t,e){1&t&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w._uU(3," Scrumboard Boards "),w.qZA(),w.TgZ(4,"div",3),w.YNc(5,$,14,8,"ng-container",4),w.TgZ(6,"div",5),w._UZ(7,"mat-icon",6),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.xp6(5),w.Q6J("ngForOf",e.boards)("ngForTrackBy",e.trackByFn),w.xp6(2),w.Q6J("svgIcon","heroicons_outline:plus"))},directives:[N.PQ,Y.sg,b.Hw,s.yS,Y.O5],encapsulation:2,changeDetection:0}),t}(),E=o(5304),G=function(){var t=function(){function t(e){n(this,t),this._scrumboardService=e}return r(t,[{key:"resolve",value:function(t,e){return this._scrumboardService.getBoards()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.LFG(S))},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),H=function(){var t=function(){function t(e,i){n(this,t),this._router=e,this._scrumboardService=i}return r(t,[{key:"resolve",value:function(t,e){var i=this;return this._scrumboardService.getBoard(t.paramMap.get("boardId")).pipe((0,E.K)(function(t){console.error(t);var r=e.url.split("/").slice(0,-1).join("/");return i._router.navigateByUrl(r),(0,T._)(t)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.LFG(s.F0),w.LFG(S))},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),P=function(){var t=function(){function t(e,i){n(this,t),this._router=e,this._scrumboardService=i}return r(t,[{key:"resolve",value:function(t,e){var i=this;return this._scrumboardService.getCard(t.paramMap.get("cardId")).pipe((0,E.K)(function(t){console.error(t);var r=e.url.split("/").slice(0,-1).join("/");return i._router.navigateByUrl(r),(0,T._)(t)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.LFG(s.F0),w.LFG(S))},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),K=o(3679),X=o(1400),W=["titleInput"],tt=function(t){return{"opacity-0 pointer-events-none":t}},et=function(t){return{"opacity-0":t}},it=function(){var t=function(){function t(e,i){n(this,t),this._changeDetectorRef=e,this._formBuilder=i,this.buttonTitle="Add a list",this.saved=new w.vpe,this.formVisible=!1}return r(t,[{key:"ngOnInit",value:function(){this.form=this._formBuilder.group({title:[""]})}},{key:"save",value:function(){var t=this.form.get("title").value;!t||""===t.trim()||(this.saved.next(t.trim()),this.form.get("title").setValue(""),this.formVisible=!1,this._changeDetectorRef.markForCheck())}},{key:"toggleFormVisibility",value:function(){this.formVisible=!this.formVisible,this.formVisible&&this.titleInput.nativeElement.focus()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.sBO),w.Y36(K.qu))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-board-add-list"]],viewQuery:function(t,e){var i;(1&t&&w.Gf(W,5),2&t)&&(w.iGM(i=w.CRH())&&(e.titleInput=i.first))},inputs:{buttonTitle:"buttonTitle"},outputs:{saved:"saved"},decls:14,vars:18,consts:[[1,"mt-11","w-64","py-2.5","px-2"],[1,"relative","flex","w-full","h-full","overflow-hidden","rounded-xl","bg-gray-200","dark:bg-gray-700"],["mat-button","","disableRipple","",1,"absolute","inset-0","justify-start","w-full","px-3","rounded-xl","bg-transparent",3,"ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","text-secondary"],[1,"flex","flex-col","items-start","w-full","p-3",3,"ngClass","formGroup"],[1,"w-full","py-2","px-3","leading-5","rounded-md","shadow-sm","border","border-gray-300","bg-white","focus:border-primary","dark:border-gray-500","dark:focus:border-primary","dark:bg-black","dark:bg-opacity-5",3,"autocomplete","formControlName","placeholder","keydown.enter"],["titleInput",""],[1,"flex","items-center","mt-2"],["mat-flat-button","",1,"h-8","min-h-8",3,"color","type","click"],["mat-icon-button","",1,"ml-1","w-8","h-8","min-h-8",3,"type","click"],[1,"icon-size-4",3,"svgIcon"]],template:function(t,e){1&t&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"button",2),w.NdJ("click",function(){return e.toggleFormVisibility()}),w._UZ(3,"mat-icon",3),w.TgZ(4,"span",4),w._uU(5),w.qZA(),w.qZA(),w.TgZ(6,"form",5),w.TgZ(7,"input",6,7),w.NdJ("keydown.enter",function(){return e.save()}),w.qZA(),w.TgZ(9,"div",8),w.TgZ(10,"button",9),w.NdJ("click",function(){return e.save()}),w._uU(11," Add list "),w.qZA(),w.TgZ(12,"button",10),w.NdJ("click",function(){return e.toggleFormVisibility()}),w._UZ(13,"mat-icon",11),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.ekj("h-15",!e.formVisible),w.xp6(2),w.Q6J("ngClass",w.VKq(14,tt,e.formVisible)),w.xp6(1),w.Q6J("svgIcon","heroicons_outline:plus-circle"),w.xp6(2),w.Oqu(e.buttonTitle),w.xp6(1),w.Q6J("ngClass",w.VKq(16,et,!e.formVisible))("formGroup",e.form),w.xp6(1),w.Q6J("autocomplete","off")("formControlName","title")("placeholder","Enter list title..."),w.xp6(3),w.Q6J("color","primary")("type","button"),w.xp6(2),w.Q6J("type","button"),w.xp6(1),w.Q6J("svgIcon","heroicons_solid:x"))},directives:[c.lW,Y.mk,b.Hw,K._Y,K.JL,K.sg,K.Fj,K.JJ,K.u],encapsulation:2,changeDetection:0}),t}(),rt=o(96109),nt=["titleInput"],ot=["titleAutosize"],at=function(t){return{"opacity-0 pointer-events-none":t}},st=function(t){return{"opacity-0":t}},ut=function(){var t=function(){function t(e,i){n(this,t),this._changeDetectorRef=e,this._formBuilder=i,this.buttonTitle="Add a card",this.saved=new w.vpe,this.formVisible=!1}return r(t,[{key:"ngOnInit",value:function(){this.form=this._formBuilder.group({title:[""]})}},{key:"save",value:function(){var t=this,e=this.form.get("title").value;!e||""===e.trim()||(this.saved.next(e.trim()),this.formVisible=!1,this.form.get("title").setValue(""),setTimeout(function(){t.titleInput.nativeElement.value="",t.titleAutosize.reset()}),this._changeDetectorRef.markForCheck())}},{key:"toggleFormVisibility",value:function(){this.formVisible=!this.formVisible,this.formVisible&&this.titleInput.nativeElement.focus()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.sBO),w.Y36(K.qu))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-board-add-card"]],viewQuery:function(t,e){var i;(1&t&&(w.Gf(nt,5),w.Gf(ot,5)),2&t)&&(w.iGM(i=w.CRH())&&(e.titleInput=i.first),w.iGM(i=w.CRH())&&(e.titleAutosize=i.first))},inputs:{buttonTitle:"buttonTitle"},outputs:{saved:"saved"},decls:17,vars:18,consts:[[1,"p-3","pt-0"],[1,"relative","flex","w-full","h-full","rounded-lg"],["mat-button","","disableRipple","",1,"absolute","inset-0","justify-start","w-full","px-5","rounded-lg",3,"ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","text-secondary"],[1,"flex","flex-col","items-start","w-full",3,"ngClass","formGroup"],[1,"flex","w-full","p-5","rounded-lg","shadow","bg-card"],["cdkTextareaAutosize","",1,"w-full","text-lg","font-medium","leading-5",3,"spellcheck","formControlName","placeholder","keydown.enter"],["titleInput","","titleAutosize","cdkTextareaAutosize"],[1,"flex","items-center","mt-2"],["mat-flat-button","",1,"h-8","min-h-8",3,"color","type","click"],["mat-icon-button","",1,"ml-1","w-8","h-8","min-h-8",3,"type","click"],[1,"icon-size-4",3,"svgIcon"]],template:function(t,e){1&t&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"button",2),w.NdJ("click",function(){return e.toggleFormVisibility()}),w._UZ(3,"mat-icon",3),w.TgZ(4,"span",4),w._uU(5),w.qZA(),w.qZA(),w.TgZ(6,"form",5),w.TgZ(7,"div",6),w.TgZ(8,"textarea",7,8),w.NdJ("keydown.enter",function(){return e.save()}),w._uU(11,"                "),w.qZA(),w.qZA(),w.TgZ(12,"div",9),w.TgZ(13,"button",10),w.NdJ("click",function(){return e.save()}),w._uU(14," Add card "),w.qZA(),w.TgZ(15,"button",11),w.NdJ("click",function(){return e.toggleFormVisibility()}),w._UZ(16,"mat-icon",12),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()),2&t&&(w.ekj("h-13",!e.formVisible),w.xp6(2),w.Q6J("ngClass",w.VKq(14,at,e.formVisible)),w.xp6(1),w.Q6J("svgIcon","heroicons_outline:plus-circle"),w.xp6(2),w.Oqu(e.buttonTitle),w.xp6(1),w.Q6J("ngClass",w.VKq(16,st,!e.formVisible))("formGroup",e.form),w.xp6(2),w.Q6J("spellcheck","off")("formControlName","title")("placeholder","Enter card title..."),w.xp6(5),w.Q6J("color","primary")("type","button"),w.xp6(2),w.Q6J("type","button"),w.xp6(1),w.Q6J("svgIcon","heroicons_solid:x"))},directives:[c.lW,Y.mk,b.Hw,K._Y,K.JL,K.sg,rt.IC,K.Fj,K.JJ,K.u],encapsulation:2,changeDetection:0}),t}();function ct(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",30),w._UZ(2,"img",31),w.qZA(),w.BQk()),2&t){var i=w.oxw().$implicit;w.xp6(2),w.Q6J("src",i.coverImage,w.LSH)}}function lt(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",33),w._uU(2),w.qZA(),w.BQk()),2&t){var i=e.$implicit;w.xp6(2),w.hij(" ",i.title," ")}}function dt(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div"),w.TgZ(2,"div",32),w.YNc(3,lt,3,1,"ng-container",11),w.qZA(),w.qZA(),w.BQk()),2&t){var i=w.oxw().$implicit,r=w.oxw(2);w.xp6(3),w.Q6J("ngForOf",i.labels)("ngForTrackBy",r.trackByFn)}}var ft=function(t){return{"text-red-600":t}};function pt(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"div",34),w._UZ(2,"mat-icon",35),w.TgZ(3,"div",20),w._uU(4),w.ALo(5,"date"),w.qZA(),w.qZA(),w.BQk()),2&t){var i=w.oxw().$implicit,r=w.oxw(2);w.xp6(1),w.Q6J("ngClass",w.VKq(6,ft,r.isOverdue(i.dueDate))),w.xp6(1),w.Q6J("svgIcon","heroicons_outline:clock"),w.xp6(2),w.hij(" ",w.xi3(5,3,i.dueDate,"longDate")," ")}}var mt=function(t){return["card",t]};function bt(t,e){if(1&t&&(w.ynx(0),w.TgZ(1,"a",27),w.YNc(2,ct,3,1,"ng-container",28),w.TgZ(3,"div",29),w._uU(4),w.qZA(),w.YNc(5,dt,4,2,"ng-container",28),w.YNc(6,pt,6,8,"ng-container",28),w.qZA(),w.BQk()),2&t){var i=e.$implicit;w.xp6(1),w.Q6J("routerLink",w.VKq(5,mt,i.id)),w.xp6(1),w.Q6J("ngIf",i.coverImage),w.xp6(2),w.Oqu(i.title),w.xp6(1),w.Q6J("ngIf",i.labels.length),w.xp6(1),w.Q6J("ngIf",i.dueDate)}}function ht(t,e){if(1&t){var i=w.EpF();w.ynx(0),w.TgZ(1,"div",14),w.TgZ(2,"div",15),w.TgZ(3,"div",16),w.TgZ(4,"input",17,18),w.NdJ("focusout",function(t){var e=w.CHM(i).$implicit;return w.oxw().updateListTitle(t,e)})("keydown.enter",function(){return w.CHM(i),w.MAs(5).blur()}),w.qZA(),w.qZA(),w.TgZ(6,"div",19),w._uU(7),w.qZA(),w.TgZ(8,"div",20),w.TgZ(9,"button",21),w._UZ(10,"mat-icon",22),w.qZA(),w.TgZ(11,"mat-menu",null,23),w.TgZ(13,"button",24),w.NdJ("click",function(){w.CHM(i);var t=w.MAs(5);return w.oxw().renameList(t)}),w._UZ(14,"mat-icon",22),w._uU(15," Rename list "),w.qZA(),w.TgZ(16,"button",24),w.NdJ("click",function(){var t=w.CHM(i).$implicit;return w.oxw().deleteList(t.id)}),w._UZ(17,"mat-icon",22),w._uU(18," Delete list "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(19,"div",25),w.TgZ(20,"div",26),w.NdJ("cdkDropListDropped",function(t){return w.CHM(i),w.oxw().cardDropped(t)}),w.YNc(21,bt,7,7,"ng-container",11),w.qZA(),w.TgZ(22,"scrumboard-board-add-card",12),w.NdJ("saved",function(t){var e=w.CHM(i).$implicit;return w.oxw().addCard(e,t)}),w.qZA(),w.qZA(),w.qZA(),w.BQk()}if(2&t){var r=e.$implicit,n=w.MAs(12),o=w.oxw();w.xp6(1),w.Q6J("cdkDragLockAxis","x"),w.xp6(3),w.Q6J("spellcheck","false")("value",r.title),w.xp6(3),w.hij(" ",r.cards.length," "),w.xp6(2),w.Q6J("matMenuTriggerFor",n),w.xp6(1),w.Q6J("svgIcon","heroicons_solid:dots-vertical"),w.xp6(4),w.Q6J("svgIcon","heroicons_solid:pencil-alt"),w.xp6(3),w.Q6J("svgIcon","heroicons_solid:trash"),w.xp6(3),w.Q6J("id",r.id)("cdkDropListData",r.cards),w.xp6(1),w.Q6J("ngForOf",r.cards)("ngForTrackBy",o.trackByFn),w.xp6(1),w.Q6J("buttonTitle",r.cards.length?"Add another card":"Add a card")}}var gt=function(){return[".."]},vt=function(){var t=function(){function t(e,i,r,o){n(this,t),this._changeDetectorRef=e,this._formBuilder=i,this._fuseConfirmationService=r,this._scrumboardService=o,this._positionStep=65536,this._maxListCount=200,this._maxPosition=500*this._positionStep,this._unsubscribeAll=new _.xQ}return r(t,[{key:"ngOnInit",value:function(){var t=this;this.listTitleForm=this._formBuilder.group({title:[""]}),this._scrumboardService.board$.pipe((0,Z.R)(this._unsubscribeAll)).subscribe(function(e){t.board=Object.assign({},e),t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"renameList",value:function(t){setTimeout(function(){t.focus()})}},{key:"addList",value:function(t){if(!(this.board.lists.length>=this._maxListCount)){var e=new Q({boardId:this.board.id,position:this.board.lists.length?this.board.lists[this.board.lists.length-1].position+this._positionStep:this._positionStep,title:t});this._scrumboardService.createList(e).subscribe()}}},{key:"updateListTitle",value:function(t,e){var i=t.target,r=i.value;r&&""!==r.trim()?(e.title=i.value=r.trim(),this._scrumboardService.updateList(e).subscribe()):i.value=e.title}},{key:"deleteList",value:function(t){var e=this;this._fuseConfirmationService.open({title:"Delete list",message:"Are you sure you want to delete this list and its cards? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(function(i){"confirmed"===i&&e._scrumboardService.deleteList(t).subscribe()})}},{key:"addCard",value:function(t,e){var i=new U({boardId:this.board.id,listId:t.id,position:t.cards.length?t.cards[t.cards.length-1].position+this._positionStep:this._positionStep,title:e});this._scrumboardService.createCard(i).subscribe()}},{key:"listDropped",value:function(t){(0,u.bA)(t.container.data,t.previousIndex,t.currentIndex);var e=this._calculatePositions(t);this._scrumboardService.updateLists(e).subscribe()}},{key:"cardDropped",value:function(t){t.previousContainer===t.container?(0,u.bA)(t.container.data,t.previousIndex,t.currentIndex):((0,u.EA)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),t.container.data[t.currentIndex].listId=t.container.id);var e=this._calculatePositions(t);this._scrumboardService.updateCards(e).subscribe()}},{key:"isOverdue",value:function(t){return y(t,y.ISO_8601).isBefore(y(),"days")}},{key:"trackByFn",value:function(t,e){return e.id||t}},{key:"_calculatePositions",value:function(t){var e=this,i=t.container.data,r=i[t.currentIndex],n=i[t.currentIndex-1]||null,o=i[t.currentIndex+1]||null;return r.position=n?o?(n.position+o.position)/2:n.position+this._positionStep:o?o.position/2:this._positionStep,!Number.isInteger(r.position)||r.position>=this._maxPosition?i=i.map(function(t,i){return t.position=(i+1)*e._positionStep,t}):[r]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(w.sBO),w.Y36(K.qu),w.Y36(X.R),w.Y36(S))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-board"]],decls:19,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","flex-shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["mat-stroked-button","",3,"routerLink"],[1,"icon-size-5","mr-2",3,"svgIcon"],["mat-stroked-button","",1,"ml-3"],["cdkScrollable","",1,"flex-auto","p-6","sm:p-8","sm:pt-4","overflow-y-auto"],["cdkDropList","",1,"flex",3,"cdkDropListData","cdkDropListOrientation","cdkDropListDropped"],["cdkDropListGroup","",1,"flex","items-start"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"buttonTitle","saved"],[1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none"],["cdkDrag","",1,"flex-0","w-72","p-2","rounded-2xl","bg-default",3,"cdkDragLockAxis"],["cdkDragHandle","",1,"flex","items-center","justify-between"],[1,"flex","items-center","w-full","py-2","px-3","rounded-md","cursor-text","border","border-transparent","focus-within:bg-white","focus-within:shadow-sm","focus-within:border-primary","dark:focus-within:bg-gray-900"],[1,"w-full","font-medium","leading-5","bg-transparent",3,"spellcheck","value","focusout","keydown.enter"],["listTitleInput",""],[1,"flex","items-center","justify-center","min-w-6","ml-4","text-sm","font-semibold","leading-6","rounded-full","bg-gray-300","text-secondary","dark:bg-gray-700"],[1,"ml-1"],["mat-icon-button","",1,"w-8","h-8","min-h-8",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["listMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"mt-2","rounded-xl","bg-gray-400","bg-opacity-12","dark:bg-transparent","dark:border"],["cdkDropList","",1,"p-3","pb-0",3,"id","cdkDropListData","cdkDropListDropped"],["cdkDrag","",1,"flex","flex-col","items-start","mb-3","p-5","space-y-3","shadow","rounded-lg","overflow-hidden","bg-card",3,"routerLink"],[4,"ngIf"],[1,"text-lg","font-medium","leading-5"],[1,"-mx-5","-mt-5","mb-2"],[1,"w-full","object-cover",3,"src"],[1,"flex","flex-wrap","-mx-1","-mb-2"],[1,"mx-1","mb-2","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"flex","items-center","rounded","text-sm","font-medium","leading-5","text-secondary",3,"ngClass"],[1,"icon-size-4","text-current",3,"svgIcon"]],template:function(t,e){1&t&&(w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w.TgZ(3,"h2",3),w._uU(4),w.qZA(),w.qZA(),w.TgZ(5,"div",4),w.TgZ(6,"a",5),w._UZ(7,"mat-icon",6),w._uU(8," Boards "),w.qZA(),w.TgZ(9,"button",7),w._UZ(10,"mat-icon",6),w._uU(11," Settings "),w.qZA(),w.qZA(),w.qZA(),w.TgZ(12,"div",8),w.TgZ(13,"div",9),w.NdJ("cdkDropListDropped",function(t){return e.listDropped(t)}),w.TgZ(14,"div",10),w.YNc(15,ht,23,13,"ng-container",11),w.TgZ(16,"scrumboard-board-add-list",12),w.NdJ("saved",function(t){return e.addList(t)}),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(17,"div",13),w._UZ(18,"router-outlet"),w.qZA()),2&t&&(w.xp6(4),w.hij(" ",e.board.title," "),w.xp6(2),w.Q6J("routerLink",w.DdM(9,gt)),w.xp6(1),w.Q6J("svgIcon","heroicons_solid:view-boards"),w.xp6(3),w.Q6J("svgIcon","heroicons_solid:cog"),w.xp6(3),w.Q6J("cdkDropListData",e.board.lists)("cdkDropListOrientation","horizontal"),w.xp6(2),w.Q6J("ngForOf",e.board.lists)("ngForTrackBy",e.trackByFn),w.xp6(1),w.Q6J("buttonTitle",e.board.lists.length?"Add another list":"Add a list"))},directives:[c.zs,s.yS,b.Hw,c.lW,N.PQ,u.Wj,u.Fd,Y.sg,it,s.lC,u.Zt,u.Bh,g.p6,g.VK,g.OP,ut,Y.O5,Y.mk],pipes:[Y.uU],styles:[".cdk-drag-preview{--tw-shadow: 0 25px 50px -12px rgba(0, 0, 0, .25);box-shadow:0 0 rgba(0,0,0,0),0 0 rgba(0,0,0,0),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging div:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}\n"],encapsulation:2,changeDetection:0}),t}(),xt=o(54395),yt=o(5202),kt=["labelInput"];function _t(t,e){if(1&t&&(w.ynx(0),w._uU(1),w.ALo(2,"date"),w.BQk()),2&t){var i=w.oxw();w.xp6(1),w.Oqu(w.xi3(2,1,i.card.dueDate,"longDate"))}}function Zt(t,e){1&t&&(w.ynx(0),w._uU(1,"Not set"),w.BQk())}function wt(t,e){if(1&t){var i=w.EpF();w.ynx(0),w.TgZ(1,"mat-checkbox",26),w.NdJ("change",function(t){var e=w.CHM(i).$implicit;return w.oxw().toggleProductTag(e,t)}),w._uU(2),w.qZA(),w.BQk()}if(2&t){var r=e.$implicit,n=w.oxw();w.xp6(1),w.Q6J("color","primary")("checked",n.hasLabel(r)),w.xp6(1),w.hij(" ",r.title," ")}}var At=function(t,e,i){return{"text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700":t,"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":e,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":i}},Tt=function(){var t=function(){function t(e,i,r,o){n(this,t),this.matDialogRef=e,this._changeDetectorRef=i,this._formBuilder=r,this._scrumboardService=o,this._unsubscribeAll=new _.xQ}return r(t,[{key:"ngOnInit",value:function(){var t=this;this._scrumboardService.board$.pipe((0,Z.R)(this._unsubscribeAll)).subscribe(function(e){t.board=e,t.labels=t.filteredLabels=e.labels}),this._scrumboardService.card$.pipe((0,Z.R)(this._unsubscribeAll)).subscribe(function(e){t.card=e}),this.cardForm=this._formBuilder.group({id:[""],title:["",K.kI.required],description:[""],labels:[[]],dueDate:[null]}),this.cardForm.setValue({id:this.card.id,title:this.card.title,description:this.card.description,labels:this.card.labels,dueDate:this.card.dueDate}),this.cardForm.valueChanges.pipe((0,C.b)(function(e){t.card=(0,yt.Z)(t.card,e)}),(0,xt.b)(300),(0,Z.R)(this._unsubscribeAll)).subscribe(function(e){t._scrumboardService.updateCard(e.id,e).subscribe(),t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"hasLabel",value:function(t){return!!this.card.labels.find(function(e){return e.id===t.id})}},{key:"filterLabels",value:function(t){var e=t.target.value.toLowerCase();this.filteredLabels=this.labels.filter(function(t){return t.title.toLowerCase().includes(e)})}},{key:"filterLabelsInputKeyDown",value:function(t){if("Enter"===t.key&&0!==this.filteredLabels.length){var e=this.filteredLabels[0];this.card.labels.find(function(t){return t.id===e.id})?this.removeLabelFromCard(e):this.addLabelToCard(e)}}},{key:"toggleProductTag",value:function(t,e){e.checked?this.addLabelToCard(t):this.removeLabelFromCard(t)}},{key:"addLabelToCard",value:function(t){this.card.labels.unshift(t),this.cardForm.get("labels").patchValue(this.card.labels),this._changeDetectorRef.markForCheck()}},{key:"removeLabelFromCard",value:function(t){this.card.labels.splice(this.card.labels.findIndex(function(e){return e.id===t.id}),1),this.cardForm.get("labels").patchValue(this.card.labels),this._changeDetectorRef.markForCheck()}},{key:"isOverdue",value:function(t){return y(t,y.ISO_8601).isBefore(y(),"days")}},{key:"trackByFn",value:function(t,e){return e.id||t}},{key:"_readAsDataURL",value:function(t){return new Promise(function(e,i){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=function(t){i(t)},r.readAsDataURL(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(d.so),w.Y36(w.sBO),w.Y36(K.qu),w.Y36(S))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-card-details"]],viewQuery:function(t,e){var i;(1&t&&w.Gf(kt,5),2&t)&&(w.iGM(i=w.CRH())&&(e.labelInput=i.first))},decls:44,vars:24,consts:[[1,"flex","flex-col","flex-auto","md:w-160","md:min-w-160","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-0","items-start","w-full","p-6","sm:p-8","space-y-6","overflow-y-auto",3,"formGroup"],[1,"fuse-mat-textarea","fuse-mat-no-subscript","w-full"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","matAutosizeMinRows"],[1,"font-medium"],[1,"relative","flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","click"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-2","text-md","font-medium"],[4,"ngIf"],[1,"fuse-mat-no-subscript","fuse-mat-dense","invisible","absolute","inset-0","-mt-2.5","opacity-0","pointer-events-none"],["matInput","",3,"formControlName","matDatepicker"],["dueDatePicker",""],["mat-button","","matDatepickerCancel","",3,"click"],["mat-flat-button","","matDatepickerApply","",3,"color"],[1,"w-full"],[1,"mt-1","rounded-md","border","border-gray-300","shadow-sm","overflow-hidden"],[1,"flex","items-center","my-2","mx-3"],[1,"flex","items-center","flex-auto","min-w-0"],[1,"icon-size-5",3,"svgIcon"],["type","text","placeholder","Enter label name",1,"min-w-0","ml-2","py-1","border-0",3,"maxLength","input","keydown"],[1,"max-h-40","leading-none","overflow-y-auto","border-t"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","h-10","min-h-10","px-4",3,"color","checked","change"]],template:function(t,e){if(1&t){var i=w.EpF();w.TgZ(0,"div",0),w.TgZ(1,"div",1),w.TgZ(2,"div",2),w._uU(3,"Card"),w.qZA(),w.TgZ(4,"button",3),w.NdJ("click",function(){return e.matDialogRef.close()}),w._UZ(5,"mat-icon",4),w.qZA(),w.qZA(),w.TgZ(6,"form",5),w.TgZ(7,"mat-form-field",6),w.TgZ(8,"mat-label"),w._uU(9,"Title"),w.qZA(),w.TgZ(10,"textarea",7),w._uU(11,"            "),w.qZA(),w.qZA(),w.TgZ(12,"mat-form-field",6),w.TgZ(13,"mat-label"),w._uU(14,"Description"),w.qZA(),w.TgZ(15,"textarea",7),w._uU(16,"            "),w.qZA(),w.qZA(),w.TgZ(17,"div"),w.TgZ(18,"div",8),w._uU(19,"Due date"),w.qZA(),w.TgZ(20,"div",9),w.NdJ("click",function(){return w.CHM(i),w.MAs(28).open()}),w._UZ(21,"mat-icon",10),w.TgZ(22,"span",11),w.YNc(23,_t,3,4,"ng-container",12),w.YNc(24,Zt,2,0,"ng-container",12),w.qZA(),w.TgZ(25,"mat-form-field",13),w._UZ(26,"input",14),w.TgZ(27,"mat-datepicker",null,15),w.TgZ(29,"mat-datepicker-actions"),w.TgZ(30,"button",16),w.NdJ("click",function(){return e.cardForm.get("dueDate").setValue(null)}),w._uU(31," Clear "),w.qZA(),w.TgZ(32,"button",17),w._uU(33," Select "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(34,"div",18),w.TgZ(35,"div",8),w._uU(36,"Labels"),w.qZA(),w.TgZ(37,"div",19),w.TgZ(38,"div",20),w.TgZ(39,"div",21),w._UZ(40,"mat-icon",22),w.TgZ(41,"input",23),w.NdJ("input",function(t){return e.filterLabels(t)})("keydown",function(t){return e.filterLabelsInputKeyDown(t)}),w.qZA(),w.qZA(),w.qZA(),w.TgZ(42,"div",24),w.YNc(43,wt,3,3,"ng-container",25),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&t){var r=w.MAs(28);w.xp6(4),w.Q6J("tabIndex",-1),w.xp6(1),w.Q6J("svgIcon","heroicons_outline:x"),w.xp6(1),w.Q6J("formGroup",e.cardForm),w.xp6(4),w.Q6J("formControlName","title")("rows",1)("matAutosizeMinRows",1),w.xp6(5),w.Q6J("formControlName","description")("rows",1)("matAutosizeMinRows",1),w.xp6(5),w.Q6J("ngClass",w.kEZ(20,At,!e.card.dueDate,e.card.dueDate&&!e.isOverdue(e.card.dueDate),e.card.dueDate&&e.isOverdue(e.card.dueDate))),w.xp6(1),w.Q6J("svgIcon","heroicons_solid:calendar"),w.xp6(2),w.Q6J("ngIf",e.card.dueDate),w.xp6(1),w.Q6J("ngIf",!e.card.dueDate),w.xp6(2),w.Q6J("formControlName","dueDate")("matDatepicker",r),w.xp6(6),w.Q6J("color","primary"),w.xp6(8),w.Q6J("svgIcon","heroicons_solid:search"),w.xp6(1),w.Q6J("maxLength",50),w.xp6(2),w.Q6J("ngForOf",e.filteredLabels)("ngForTrackBy",e.trackByFn)}},directives:[c.lW,b.Hw,K._Y,K.JL,K.sg,m.KE,m.hX,h.Nt,h.D7,K.Fj,K.JJ,K.u,Y.mk,Y.O5,p.hl,p.Mq,p.M5,p.dp,p.DK,Y.sg,l.oG],pipes:[Y.uU],encapsulation:2,changeDetection:0}),t}(),qt=[{path:"",component:z,resolve:{boards:G}},{path:":boardId",component:vt,resolve:{board:H},children:[{path:"card/:cardId",component:function(){var t=function(){function t(e,i,r){n(this,t),this._activatedRoute=e,this._matDialog=i,this._router=r}return r(t,[{key:"ngOnInit",value:function(){var t=this;this._matDialog.open(Tt,{autoFocus:!1}).afterClosed().subscribe(function(){t._router.navigate(["./../.."],{relativeTo:t._activatedRoute})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(s.gz),w.Y36(d.uw),w.Y36(s.F0))},t.\u0275cmp=w.Xpm({type:t,selectors:[["scrumboard-card"]],decls:1,vars:0,template:function(t,e){1&t&&w._uU(0,"SCRUMBOARD -> BOARDS -> LIST -> CARD\n")},encapsulation:2,changeDetection:0}),t}(),resolve:{card:P}}]}],It=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=w.oAB({type:t}),t.\u0275inj=w.cJS({providers:[{provide:f.sG,useValue:{parse:{dateInput:y.ISO_8601},display:{dateInput:"ll",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}}}],imports:[[s.Bz.forChild(qt),u._t,c.ot,l.p9,p.FA,d.Is,m.lN,b.Ps,h.c,g.Tx,v.Yd,x.Cv,k.m]]}),t}()}}])}();