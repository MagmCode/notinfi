!function(){"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,r=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return r}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[1953],{1953:function(t,n,r){r.r(n),r.d(n,{NotesModule:function(){return we}});var a,l=r(63423),c=r(51095),s=r(7539),u=r(22238),f=r(98295),g=r(76627),p=r(83166),d=r(33935),v=r(72458),h=r(23017),m=r(96557),x=r(3921),b=r(44466),Z=r(37716),y=((a=function e(){o(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=Z.Xpm({type:a,selectors:[["notes"]],decls:1,vars:0,template:function(e,t){1&e&&Z._UZ(0,"router-outlet")},directives:[l.lC],encapsulation:2,changeDetection:0}),a),k=r(26215),w=r(79765),_=r(90739),A=r(87519),T=r(88002),N=r(46782),I=r(54395),Q=r(43190),J=r(25917),q=r(40205),C=r(93342),F=r(15257),M=r(31177),B=r(91841),$=function(){var e=function(){function e(t){o(this,e),this._httpClient=t,this._labels=new k.X(null),this._note=new k.X(null),this._notes=new k.X(null)}return i(e,[{key:"labels$",get:function(){return this._labels.asObservable()}},{key:"notes$",get:function(){return this._notes.asObservable()}},{key:"note$",get:function(){return this._note.asObservable()}},{key:"getLabels",value:function(){var e=this;return this._httpClient.get("api/apps/notes/labels").pipe((0,C.b)(function(t){e._labels.next(t)}))}},{key:"addLabel",value:function(e){var t=this;return this._httpClient.post("api/apps/notes/labels",{title:e}).pipe((0,C.b)(function(e){t._labels.next(e)}))}},{key:"updateLabel",value:function(e){var t=this;return this._httpClient.patch("api/apps/notes/labels",{label:e}).pipe((0,C.b)(function(e){t.getNotes().subscribe(),t._labels.next(e)}))}},{key:"deleteLabel",value:function(e){var t=this;return this._httpClient.delete("api/apps/notes/labels",{params:{id:e}}).pipe((0,C.b)(function(e){t.getNotes().subscribe(),t._labels.next(e)}))}},{key:"getNotes",value:function(){var e=this;return this._httpClient.get("api/apps/notes/all").pipe((0,C.b)(function(t){e._notes.next(t)}))}},{key:"getNoteById",value:function(e){var t=this;return this._notes.pipe((0,F.q)(1),(0,T.U)(function(n){var i=n.find(function(t){return t.id===e})||null;return t._note.next(i),i}),(0,Q.w)(function(t){return t?(0,J.of)(t):(0,q._)("Could not found the note with id of "+e+"!")}))}},{key:"addTask",value:function(e,t){var n=this;return this._httpClient.post("api/apps/notes/tasks",{note:e,task:t}).pipe((0,Q.w)(function(){return n.getNotes().pipe((0,Q.w)(function(){return n.getNoteById(e.id)}))}))}},{key:"createNote",value:function(e){var t=this;return this._httpClient.post("api/apps/notes",{note:e}).pipe((0,Q.w)(function(e){return t.getNotes().pipe((0,Q.w)(function(){return t.getNoteById(e.id).pipe((0,T.U)(function(){return e}))}))}))}},{key:"updateNote",value:function(e){var t=this,n=(0,M.Z)(e);return n.labels.length&&(n.labels=n.labels.map(function(e){return e.id})),this._httpClient.patch("api/apps/notes",{updatedNote:n}).pipe((0,C.b)(function(e){t.getNotes().subscribe()}))}},{key:"deleteNote",value:function(e){var t=this;return this._httpClient.delete("api/apps/notes",{params:{id:e.id}}).pipe((0,T.U)(function(e){return t.getNotes().subscribe(),e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.LFG(B.eN))},e.\u0275prov=Z.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),O=r(38583),U=r(3679);function L(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",6),Z.TgZ(2,"div",7),Z.TgZ(3,"button",8),Z.NdJ("click",function(){Z.CHM(n);var e=Z.oxw().ngIf;return Z.oxw().removeImage(e)}),Z._UZ(4,"mat-icon",9),Z.qZA(),Z.qZA(),Z._UZ(5,"img",10),Z.qZA(),Z.BQk()}if(2&e){var i=Z.oxw().ngIf;Z.xp6(4),Z.Q6J("svgIcon","heroicons_outline:trash"),Z.xp6(1),Z.Q6J("src",i.image,Z.LSH)}}var S=function(e){return{"text-secondary line-through":e}};function Y(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",17),Z.TgZ(2,"mat-checkbox",18),Z.NdJ("ngModelChange",function(e){return Z.CHM(n).$implicit.completed=e})("change",function(){var e=Z.CHM(n).$implicit,t=Z.oxw(2).ngIf;return Z.oxw().updateTaskOnNote(t,e)}),Z.qZA(),Z.TgZ(3,"input",19),Z.NdJ("ngModelChange",function(e){return Z.CHM(n).$implicit.content=e})("input",function(){var e=Z.CHM(n).$implicit,t=Z.oxw(2).ngIf;return Z.oxw().updateTaskOnNote(t,e)}),Z.qZA(),Z.TgZ(4,"mat-icon",20),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit,t=Z.oxw(2).ngIf;return Z.oxw().removeTaskFromNote(t,e)}),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit;Z.xp6(2),Z.Q6J("color","primary")("ngModel",i.completed),Z.xp6(1),Z.Q6J("ngClass",Z.VKq(6,S,i.completed))("placeholder","Task")("ngModel",i.content),Z.xp6(1),Z.Q6J("svgIcon","heroicons_solid:x")}}function D(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",11),Z.YNc(2,Y,5,8,"ng-container",12),Z.TgZ(3,"div",13),Z._UZ(4,"mat-icon",14),Z.TgZ(5,"input",15,16),Z.NdJ("keydown.enter",function(){Z.CHM(n);var e=Z.MAs(6),t=Z.oxw().ngIf;return Z.oxw().addTaskToNote(t,e.value),e.value=""}),Z.qZA(),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=Z.oxw().ngIf,o=Z.oxw();Z.xp6(2),Z.Q6J("ngForOf",i.tasks)("ngForTrackBy",o.trackByFn),Z.xp6(2),Z.Q6J("svgIcon","heroicons_solid:plus"),Z.xp6(1),Z.Q6J("placeholder","Add task")}}function H(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",22),Z.TgZ(2,"div"),Z._uU(3),Z.qZA(),Z.TgZ(4,"mat-icon",23),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit,t=Z.oxw(2).ngIf;return Z.oxw().toggleLabelOnNote(t,e)}),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit;Z.xp6(3),Z.hij(" ",i.title," "),Z.xp6(1),Z.Q6J("svgIcon","heroicons_solid:x-circle")}}function j(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",21),Z.YNc(2,H,5,2,"ng-container",12),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().ngIf,i=Z.oxw();Z.xp6(2),Z.Q6J("ngForOf",n.labels)("ngForTrackBy",i.trackByFn)}}function R(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",24),Z.TgZ(2,"button",25),Z.NdJ("click",function(){Z.CHM(n);var e=Z.oxw().ngIf;return Z.oxw().createNote(e)}),Z._uU(3," Save "),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=Z.oxw().ngIf;Z.xp6(2),Z.Q6J("color","primary")("disabled",!i.title&&!i.content)}}function E(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"button",36),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit,t=Z.oxw(3).ngIf;return Z.oxw().toggleLabelOnNote(t,e)}),Z.TgZ(2,"span",13),Z._UZ(3,"mat-checkbox",37),Z.TgZ(4,"span",38),Z._uU(5),Z.qZA(),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit,o=Z.oxw(3).ngIf,r=Z.oxw();Z.xp6(3),Z.Q6J("color","primary")("checked",r.isNoteHasLabel(o,i)),Z.xp6(2),Z.Oqu(i.title)}}function W(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,E,6,3,"ng-container",35),Z.BQk()),2&e){var n=t.ngIf;Z.xp6(1),Z.Q6J("ngForOf",n)}}function z(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",26),Z.TgZ(2,"div",27),Z.TgZ(3,"div"),Z.TgZ(4,"input",28,29),Z.NdJ("change",function(){Z.CHM(n);var e=Z.MAs(5),t=Z.oxw().ngIf;return Z.oxw().uploadImage(t,e.files)}),Z.qZA(),Z.TgZ(6,"label",30),Z._UZ(7,"mat-icon",31),Z.qZA(),Z.qZA(),Z.TgZ(8,"button",8),Z.NdJ("click",function(){Z.CHM(n);var e=Z.oxw().ngIf;return Z.oxw().addTasksToNote(e)}),Z._UZ(9,"mat-icon",31),Z.qZA(),Z.TgZ(10,"button",32),Z._UZ(11,"mat-icon",31),Z.qZA(),Z.TgZ(12,"mat-menu",null,33),Z.YNc(14,W,2,1,"ng-container",1),Z.ALo(15,"async"),Z.qZA(),Z.TgZ(16,"button",8),Z.NdJ("click",function(){Z.CHM(n);var e=Z.oxw().ngIf;return Z.oxw().toggleArchiveOnNote(e)}),Z._UZ(17,"mat-icon",31),Z.qZA(),Z.TgZ(18,"button",8),Z.NdJ("click",function(){Z.CHM(n);var e=Z.oxw().ngIf;return Z.oxw().deleteNote(e)}),Z._UZ(19,"mat-icon",31),Z.qZA(),Z.qZA(),Z.TgZ(20,"button",34),Z._uU(21," Close "),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=Z.MAs(13),o=Z.oxw(2);Z.xp6(4),Z.Q6J("multiple",!1)("accept","image/jpeg, image/png"),Z.xp6(3),Z.Q6J("svgIcon","heroicons_outline:photograph"),Z.xp6(2),Z.Q6J("svgIcon","heroicons_outline:clipboard-list"),Z.xp6(1),Z.Q6J("matMenuTriggerFor",i),Z.xp6(1),Z.Q6J("svgIcon","heroicons_outline:tag"),Z.xp6(3),Z.Q6J("ngIf",Z.lcZ(15,9,o.labels$)),Z.xp6(3),Z.Q6J("svgIcon","heroicons_outline:archive"),Z.xp6(2),Z.Q6J("svgIcon","heroicons_outline:trash")}}function X(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.YNc(1,L,6,2,"ng-container",1),Z.TgZ(2,"div",2),Z.TgZ(3,"div"),Z.TgZ(4,"input",3),Z.NdJ("ngModelChange",function(e){return Z.CHM(n).ngIf.title=e})("input",function(){var e=Z.CHM(n).ngIf;return Z.oxw().updateNoteDetails(e)}),Z.qZA(),Z.qZA(),Z.TgZ(5,"div",4),Z.TgZ(6,"textarea",5),Z.NdJ("ngModelChange",function(e){return Z.CHM(n).ngIf.content=e})("input",function(){var e=Z.CHM(n).ngIf;return Z.oxw().updateNoteDetails(e)}),Z.qZA(),Z.qZA(),Z.YNc(7,D,7,4,"ng-container",1),Z.YNc(8,j,3,2,"ng-container",1),Z.YNc(9,R,4,2,"ng-container",1),Z.YNc(10,z,22,11,"ng-container",1),Z.qZA(),Z.BQk()}if(2&e){var i=t.ngIf;Z.xp6(1),Z.Q6J("ngIf",i.image),Z.xp6(3),Z.Q6J("placeholder","Title")("ngModel",i.title),Z.xp6(2),Z.Q6J("placeholder","Note")("ngModel",i.content),Z.xp6(1),Z.Q6J("ngIf",i.tasks),Z.xp6(1),Z.Q6J("ngIf",i.labels&&i.labels.length),Z.xp6(1),Z.Q6J("ngIf",!i.id),Z.xp6(1),Z.Q6J("ngIf",i.id)}}var P=function(){var e=function(){function e(t,n,i,r){o(this,e),this._changeDetectorRef=t,this._data=n,this._notesService=i,this._matDialogRef=r,this.noteChanged=new w.xQ,this._unsubscribeAll=new w.xQ}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._data.note.id?(this._notesService.getNoteById(this._data.note.id).subscribe(),this.note$=this._notesService.note$):this.note$=(0,J.of)({id:null,title:"",content:"",tasks:null,image:null,reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null}),this.labels$=this._notesService.labels$,this.noteChanged.pipe((0,N.R)(this._unsubscribeAll),(0,I.b)(500),(0,Q.w)(function(t){return e._notesService.updateNote(t)})).subscribe(function(){e._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"createNote",value:function(e){var t=this;this._notesService.createNote(e).pipe((0,T.U)(function(){t.note$=t._notesService.note$})).subscribe()}},{key:"uploadImage",value:function(e,t){var n=this;if(t.length){var i=t[0];!["image/jpeg","image/png"].includes(i.type)||this._readAsDataURL(i).then(function(t){e.image=t,n.noteChanged.next(e)})}}},{key:"removeImage",value:function(e){e.image=null,this.noteChanged.next(e)}},{key:"addTasksToNote",value:function(e){e.tasks||(e.tasks=[])}},{key:"addTaskToNote",value:function(e,t){""!==t.trim()&&this._notesService.addTask(e,t).subscribe()}},{key:"removeTaskFromNote",value:function(e,t){e.tasks=e.tasks.filter(function(e){return e.id!==t.id}),this.noteChanged.next(e)}},{key:"updateTaskOnNote",value:function(e,t){t.id&&this.noteChanged.next(e)}},{key:"isNoteHasLabel",value:function(e,t){return!!e.labels.find(function(e){return e.id===t.id})}},{key:"toggleLabelOnNote",value:function(e,t){this.isNoteHasLabel(e,t)?e.labels=e.labels.filter(function(e){return e.id!==t.id}):e.labels.push(t),this.noteChanged.next(e)}},{key:"toggleArchiveOnNote",value:function(e){e.archived=!e.archived,this.noteChanged.next(e),this._matDialogRef.close()}},{key:"updateNoteDetails",value:function(e){this.noteChanged.next(e)}},{key:"deleteNote",value:function(e){var t=this;this._notesService.deleteNote(e).subscribe(function(e){!e||t._matDialogRef.close()})}},{key:"trackByFn",value:function(e,t){return t.id||e}},{key:"_readAsDataURL",value:function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.onerror=function(e){n(e)},i.readAsDataURL(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(Z.sBO),Z.Y36(u.WI),Z.Y36($),Z.Y36(u.so))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["notes-details"]],decls:3,vars:3,consts:[[1,"flex","flex-col","flex-auto","md:w-160","md:min-w-160","-m-6"],[4,"ngIf"],[1,"m-4"],[1,"w-full","p-2","text-2xl",3,"placeholder","ngModel","ngModelChange","input"],[1,"flex","w-full","py-5","px-2"],["matTextareaAutosize","",1,"w-full",3,"placeholder","ngModel","ngModelChange","input"],[1,"relative","w-full"],[1,"absolute","right-0","bottom-0","p-4"],["mat-icon-button","",3,"click"],[1,"text-white",3,"svgIcon"],[1,"w-full","object-cover",3,"src"],[1,"mx-2","mt-4","space-y-1.5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center"],[1,"-ml-0.5","icon-size-5","text-hint",3,"svgIcon"],[1,"w-full","ml-1.5","px-1","py-0.5",3,"placeholder","keydown.enter"],["newTaskInput",""],[1,"group","flex","items-center"],[1,"flex","items-center",3,"color","ngModel","ngModelChange","change"],[1,"w-full","px-1","py-0.5",3,"ngClass","placeholder","ngModel","ngModelChange","input"],[1,"hidden","group-hover:flex","ml-auto","icon-size-5","cursor-pointer",3,"svgIcon","click"],[1,"flex","flex-wrap","items-center","mx-1","mt-6"],[1,"flex","items-center","m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"ml-1","icon-size-4","cursor-pointer",3,"svgIcon","click"],[1,"flex","items-center","justify-end","mt-4"],["mat-flat-button","",3,"color","disabled","click"],[1,"flex","items-center","justify-between","mt-4"],[1,"flex","items-center","space-x-2"],["id","image-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],[3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],["labelsMenu","matMenu"],["mat-flat-button","","matDialogClose",""],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["disableRipple","",1,"flex","items-center","pointer-events-none",3,"color","checked"],[1,"ml-1","leading-5"]],template:function(e,t){1&e&&(Z.TgZ(0,"div",0),Z.YNc(1,X,11,9,"ng-container",1),Z.ALo(2,"async"),Z.qZA()),2&e&&(Z.xp6(1),Z.Q6J("ngIf",Z.lcZ(2,1,t.note$)))},directives:[O.O5,U.Fj,U.JJ,U.On,p.D7,c.lW,g.Hw,O.sg,s.oG,O.mk,v.wG,d.p6,d.VK,u.ZT,d.OP],pipes:[O.Ov],encapsulation:2,changeDetection:0}),e}(),K=r(45435);function G(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"mat-form-field",13),Z.TgZ(2,"button",14),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit;return Z.oxw(2).deleteLabel(e.id)}),Z._UZ(3,"mat-icon",9),Z.qZA(),Z.TgZ(4,"input",15),Z.NdJ("ngModelChange",function(e){return Z.CHM(n).$implicit.title=e})("input",function(){var e=Z.CHM(n).$implicit;return Z.oxw(2).updateLabel(e)}),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit;Z.xp6(3),Z.Q6J("svgIcon","heroicons_solid:trash"),Z.xp6(1),Z.Q6J("autocomplete","off")("ngModel",i.title)}}function V(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,G,5,3,"ng-container",12),Z.BQk()),2&e){var n=t.ngIf,i=Z.oxw();Z.xp6(1),Z.Q6J("ngForOf",n)("ngForTrackBy",i.trackByFn)}}var ee=function(){var e=function(){function e(t,n){o(this,e),this._changeDetectorRef=t,this._notesService=n,this.labelChanged=new w.xQ,this._unsubscribeAll=new w.xQ}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.labels$=this._notesService.labels$,this.labelChanged.pipe((0,N.R)(this._unsubscribeAll),(0,I.b)(500),(0,K.h)(function(e){return""!==e.title.trim()}),(0,Q.w)(function(t){return e._notesService.updateLabel(t)})).subscribe(function(){e._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"addLabel",value:function(e){this._notesService.addLabel(e).subscribe()}},{key:"updateLabel",value:function(e){this.labelChanged.next(e)}},{key:"deleteLabel",value:function(e){var t=this;this._notesService.deleteLabel(e).subscribe(function(){t._changeDetectorRef.markForCheck()})}},{key:"trackByFn",value:function(e,t){return t.id||e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Z.Y36(Z.sBO),Z.Y36($))},e.\u0275cmp=Z.Xpm({type:e,selectors:[["notes-labels"]],decls:14,vars:10,consts:[[1,"flex","flex-col","flex-auto","w-80","min-w-80","p-2","md:p-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold"],["matDialogClose","","mat-icon-button",""],[3,"svgIcon"],[1,"fuse-mat-dense","w-full","mt-8",3,"floatLabel"],["name","new-label","matInput","",3,"autocomplete","placeholder"],["newLabelInput",""],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"flex","flex-col","mt-4"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fuse-mat-dense","w-full"],["mat-icon-button","","matPrefix","",3,"click"],["required","","matInput","",3,"autocomplete","ngModel","ngModelChange","input"]],template:function(e,t){if(1&e){var n=Z.EpF();Z.TgZ(0,"div",0),Z.TgZ(1,"div",1),Z.TgZ(2,"div",2),Z._uU(3,"Edit labels"),Z.qZA(),Z.TgZ(4,"button",3),Z._UZ(5,"mat-icon",4),Z.qZA(),Z.qZA(),Z.TgZ(6,"mat-form-field",5),Z._UZ(7,"input",6,7),Z.TgZ(9,"button",8),Z.NdJ("click",function(){Z.CHM(n);var e=Z.MAs(8);return t.addLabel(e.value),e.value=""}),Z._UZ(10,"mat-icon",9),Z.qZA(),Z.qZA(),Z.TgZ(11,"div",10),Z.YNc(12,V,2,2,"ng-container",11),Z.ALo(13,"async"),Z.qZA(),Z.qZA()}if(2&e){var i=Z.MAs(8);Z.xp6(5),Z.Q6J("svgIcon","heroicons_outline:x"),Z.xp6(1),Z.Q6J("floatLabel","always"),Z.xp6(1),Z.Q6J("autocomplete","off")("placeholder","Create new label"),Z.xp6(2),Z.ekj("invisible",""===i.value.trim()),Z.xp6(1),Z.Q6J("svgIcon","heroicons_solid:check-circle"),Z.xp6(2),Z.Q6J("ngIf",Z.lcZ(13,8,t.labels$))}},directives:[c.lW,u.ZT,g.Hw,f.KE,p.Nt,f.R9,O.O5,O.sg,f.qo,U.Fj,U.Q7,U.JJ,U.On],pipes:[O.Ov],encapsulation:2,changeDetection:0}),e}(),te=r(91812),ne=function(e,t){return{"bg-gray-200 dark:bg-gray-700 text-primary dark:text-primary-400":e,"text-hint hover:bg-hover":t}};function ie(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",6),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit;return Z.oxw(2).filterByLabel(e.id)}),Z._UZ(2,"mat-icon",7),Z.TgZ(3,"div",8),Z._uU(4),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit,o=Z.oxw(2);Z.xp6(1),Z.Q6J("ngClass",Z.WLB(4,ne,"label:"+i.id===o.filterStatus,"label:"+i.id!==o.filterStatus))("matRippleDisabled","label:"+i.id===o.filterStatus),Z.xp6(1),Z.Q6J("svgIcon","heroicons_outline:tag"),Z.xp6(2),Z.Oqu(i.title)}}function oe(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,ie,5,7,"ng-container",29),Z.BQk()),2&e){var n=t.ngIf,i=Z.oxw();Z.xp6(1),Z.Q6J("ngForOf",n)("ngForTrackBy",i.trackByFn)}}function re(e,t){if(1&e&&(Z.ynx(0),Z._UZ(1,"img",35),Z.BQk()),2&e){var n=Z.oxw().$implicit;Z.xp6(1),Z.Q6J("src",n.image,Z.LSH)}}function ae(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",36),Z._uU(2),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().$implicit;Z.xp6(2),Z.hij(" ",n.title," ")}}function le(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div"),Z._uU(2),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().$implicit;Z.xp6(1),Z.ekj("text-xl",n.content.length<70),Z.xp6(1),Z.hij(" ",n.content," ")}}function ce(e,t){1&e&&(Z.ynx(0),Z.TgZ(1,"div",39),Z._UZ(2,"div",40),Z.qZA(),Z.BQk())}function se(e,t){1&e&&(Z.ynx(0),Z._UZ(1,"mat-icon",41),Z.BQk()),2&e&&(Z.xp6(1),Z.Q6J("svgIcon","heroicons_solid:check-circle"))}var ue=function(e){return{"text-secondary line-through":e}};function fe(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",15),Z.YNc(2,ce,3,0,"ng-container",9),Z.YNc(3,se,2,1,"ng-container",9),Z.TgZ(4,"div",38),Z._uU(5),Z.qZA(),Z.qZA(),Z.BQk()),2&e){var n=t.$implicit;Z.xp6(2),Z.Q6J("ngIf",!n.completed),Z.xp6(1),Z.Q6J("ngIf",n.completed),Z.xp6(1),Z.Q6J("ngClass",Z.VKq(4,ue,n.completed)),Z.xp6(1),Z.hij(" ",n.content," ")}}function ge(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",37),Z.YNc(2,fe,6,6,"ng-container",29),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().$implicit,i=Z.oxw(5);Z.xp6(2),Z.Q6J("ngForOf",n.tasks)("ngForTrackBy",i.trackByFn)}}function pe(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",43),Z._uU(2),Z.qZA(),Z.BQk()),2&e){var n=t.$implicit;Z.xp6(2),Z.hij(" ",n.title," ")}}function de(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",42),Z.YNc(2,pe,3,1,"ng-container",29),Z.qZA(),Z.BQk()),2&e){var n=Z.oxw().$implicit,i=Z.oxw(5);Z.xp6(2),Z.Q6J("ngForOf",n.labels)("ngForTrackBy",i.trackByFn)}}function ve(e,t){if(1&e){var n=Z.EpF();Z.ynx(0),Z.TgZ(1,"div",33),Z.NdJ("click",function(){var e=Z.CHM(n).$implicit;return Z.oxw(5).openNoteDialog(e)}),Z.YNc(2,re,2,1,"ng-container",9),Z.TgZ(3,"div",34),Z.YNc(4,ae,3,1,"ng-container",9),Z.YNc(5,le,3,3,"ng-container",9),Z.YNc(6,ge,3,2,"ng-container",9),Z.YNc(7,de,3,2,"ng-container",9),Z.qZA(),Z.qZA(),Z.BQk()}if(2&e){var i=t.$implicit;Z.xp6(2),Z.Q6J("ngIf",i.image),Z.xp6(2),Z.Q6J("ngIf",i.title),Z.xp6(1),Z.Q6J("ngIf",i.content),Z.xp6(1),Z.Q6J("ngIf",i.tasks),Z.xp6(1),Z.Q6J("ngIf",i.labels)}}function he(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"div",32),Z.YNc(2,ve,8,5,"ng-container",29),Z.qZA(),Z.BQk()),2&e){var n=t.$implicit,i=Z.oxw(4);Z.xp6(2),Z.Q6J("ngForOf",n.items)("ngForTrackBy",i.trackByFn)}}function me(e,t){if(1&e&&Z.YNc(0,he,3,2,"ng-container",29),2&e){var n=t.$implicit,i=Z.oxw(3);Z.Q6J("ngForOf",n)("ngForTrackBy",i.trackByFn)}}function xe(e,t){if(1&e&&(Z.ynx(0),Z.TgZ(1,"fuse-masonry",30),Z.YNc(2,me,1,2,"ng-template",null,31,Z.W1O),Z.qZA(),Z.BQk()),2&e){var n=Z.MAs(3),i=Z.oxw().ngIf,o=Z.oxw();Z.xp6(1),Z.Q6J("items",i)("columns",o.masonryColumns)("columnsTemplate",n)}}function be(e,t){if(1&e&&(Z.ynx(0),Z.YNc(1,xe,4,3,"ng-container",26),Z.BQk()),2&e){var n=t.ngIf;Z.oxw();var i=Z.MAs(39);Z.xp6(1),Z.Q6J("ngIf",n.length)("ngIfElse",i)}}function Ze(e,t){1&e&&(Z.TgZ(0,"div",44),Z.TgZ(1,"div",45),Z._uU(2,"Loading..."),Z.qZA(),Z.qZA())}function ye(e,t){1&e&&(Z.TgZ(0,"div",44),Z._UZ(1,"mat-icon",46),Z.TgZ(2,"div",45),Z._uU(3,"There are no notes!"),Z.qZA(),Z.qZA()),2&e&&(Z.xp6(1),Z.Q6J("svgIcon","iconsmind:file_hide"))}var ke=[{path:"",component:y,children:[{path:"",component:function(){var t=function(){function t(e,n,i,r){o(this,t),this._changeDetectorRef=e,this._fuseMediaWatcherService=n,this._matDialog=i,this._notesService=r,this.drawerMode="side",this.drawerOpened=!0,this.filter$=new k.X("notes"),this.searchQuery$=new k.X(null),this.masonryColumns=4,this._unsubscribeAll=new w.xQ}return i(t,[{key:"filterStatus",get:function(){return this.filter$.value}},{key:"ngOnInit",value:function(){var t=this;this._notesService.getLabels().subscribe(),this._notesService.getNotes().subscribe(),this.labels$=this._notesService.labels$,this.notes$=(0,_.aj)([this._notesService.notes$,this.filter$,this.searchQuery$]).pipe((0,A.x)(),(0,T.U)(function(t){var n=e(t,3),i=n[0],o=n[1],r=n[2];if(i&&i.length){var a=i;r&&(r=r.trim().toLowerCase(),a=a.filter(function(e){return e.title.toLowerCase().includes(r)||e.content.toLowerCase().includes(r)}));var l="archived"===o;if(a=a.filter(function(e){return e.archived===l}),o.startsWith("label:")){var c=o.split(":")[1];a=a.filter(function(e){return!!e.labels.find(function(e){return e.id===c})})}return a}})),this._fuseMediaWatcherService.onMediaChange$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){var n=e.matchingAliases;n.includes("lg")?(t.drawerMode="side",t.drawerOpened=!0):(t.drawerMode="over",t.drawerOpened=!1),t.masonryColumns=n.includes("xl")?5:n.includes("lg")?4:n.includes("md")?3:n.includes("sm")?2:1,t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"addNewNote",value:function(){this._matDialog.open(P,{autoFocus:!1,data:{note:{}}})}},{key:"openEditLabelsDialog",value:function(){this._matDialog.open(ee,{autoFocus:!1})}},{key:"openNoteDialog",value:function(e){this._matDialog.open(P,{autoFocus:!1,data:{note:(0,M.Z)(e)}})}},{key:"filterByArchived",value:function(){this.filter$.next("archived")}},{key:"filterByLabel",value:function(e){this.filter$.next("label:".concat(e))}},{key:"filterByQuery",value:function(e){this.searchQuery$.next(e)}},{key:"resetFilter",value:function(){this.filter$.next("notes")}},{key:"trackByFn",value:function(e,t){return t.id||e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Z.Y36(Z.sBO),Z.Y36(te.T),Z.Y36(u.uw),Z.Y36($))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["notes-list"]],decls:40,vars:28,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent"],[1,"w-2/3","sm:w-72","lg:w-56","border-r-0","bg-default",3,"mode","opened"],["drawer",""],[1,"p-6","lg:py-8","lg:pl-4","lg:pr-0"],[1,"space-y-2"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer",3,"ngClass","matRippleDisabled","click"],[1,"text-current",3,"svgIcon"],[1,"ml-3","leading-5","select-none","text-default"],[4,"ngIf"],["matRipple","",1,"relative","flex","items-center","py-2","px-4","font-medium","rounded-full","cursor-pointer","hover:bg-hover",3,"click"],[1,"text-hint",3,"svgIcon"],[1,"ml-3","leading-5","select-none"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto","p-6","md:p-8"],[1,"flex","items-center"],[1,"flex","items-center","flex-auto"],["mat-icon-button","",1,"flex","lg:hidden","-ml-2",3,"click"],[3,"svgIcon"],[1,"fuse-mat-rounded","fuse-mat-dense","fuse-mat-no-subscript","flex-auto","ml-4","lg:ml-0"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchInput",""],["mat-flat-button","",1,"ml-4","px-1","sm:px-4","min-w-10",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"hidden","sm:inline-block","ml-2"],[4,"ngIf","ngIfElse"],["loading",""],["noNotes",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"-mx-2","mt-8",3,"items","columns","columnsTemplate"],["columnsTemplate",""],[1,"flex-1","px-2","space-y-4"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","cursor-pointer","bg-card",3,"click"],[1,"flex","flex-auto","flex-col","p-6","space-y-4"],[1,"w-full","object-cover",3,"src"],[1,"font-semibold","line-clamp-3"],[1,"space-y-1.5"],[1,"ml-1.5","leading-5",3,"ngClass"],[1,"flex","items-center","justify-center","w-5","h-5"],[1,"w-4","h-4","rounded-full","border-2"],[1,"text-hint","icon-size-5",3,"svgIcon"],[1,"flex","flex-wrap","items-center","-m-1"],[1,"m-1","py-0.5","px-3","rounded-full","text-sm","font-medium","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],[1,"icon-size-24",3,"svgIcon"]],template:function(e,t){if(1&e){var n=Z.EpF();Z.TgZ(0,"div",0),Z.TgZ(1,"mat-drawer-container",1),Z.TgZ(2,"mat-drawer",2,3),Z.TgZ(4,"div",4),Z.TgZ(5,"div",5),Z.TgZ(6,"div",6),Z.NdJ("click",function(){return t.resetFilter()}),Z._UZ(7,"mat-icon",7),Z.TgZ(8,"div",8),Z._uU(9,"Notes"),Z.qZA(),Z.qZA(),Z.TgZ(10,"div",6),Z.NdJ("click",function(){return t.filterByArchived()}),Z._UZ(11,"mat-icon",7),Z.TgZ(12,"div",8),Z._uU(13,"Archive"),Z.qZA(),Z.qZA(),Z.YNc(14,oe,2,2,"ng-container",9),Z.ALo(15,"async"),Z.TgZ(16,"div",10),Z.NdJ("click",function(){return t.openEditLabelsDialog()}),Z._UZ(17,"mat-icon",11),Z.TgZ(18,"div",12),Z._uU(19,"Edit labels"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(20,"mat-drawer-content",13),Z.TgZ(21,"div",14),Z.TgZ(22,"div",15),Z.TgZ(23,"div",16),Z.TgZ(24,"button",17),Z.NdJ("click",function(){return Z.CHM(n),Z.MAs(3).toggle()}),Z._UZ(25,"mat-icon",18),Z.qZA(),Z.TgZ(26,"mat-form-field",19),Z._UZ(27,"mat-icon",20),Z.TgZ(28,"input",21,22),Z.NdJ("input",function(){Z.CHM(n);var e=Z.MAs(29);return t.filterByQuery(e.value)}),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(30,"button",23),Z.NdJ("click",function(){return t.addNewNote()}),Z._UZ(31,"mat-icon",24),Z.TgZ(32,"span",25),Z._uU(33,"New note"),Z.qZA(),Z.qZA(),Z.qZA(),Z.YNc(34,be,2,2,"ng-container",26),Z.ALo(35,"async"),Z.YNc(36,Ze,3,0,"ng-template",null,27,Z.W1O),Z.YNc(38,ye,4,1,"ng-template",null,28,Z.W1O),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&e){var i=Z.MAs(37);Z.xp6(2),Z.Q6J("mode",t.drawerMode)("opened",t.drawerOpened),Z.xp6(4),Z.Q6J("ngClass",Z.WLB(22,ne,"notes"===t.filterStatus,"notes"!==t.filterStatus))("matRippleDisabled","notes"===t.filterStatus),Z.xp6(1),Z.Q6J("svgIcon","heroicons_outline:pencil-alt"),Z.xp6(3),Z.Q6J("ngClass",Z.WLB(25,ne,"archived"===t.filterStatus,"archived"!==t.filterStatus))("matRippleDisabled","archived"===t.filterStatus),Z.xp6(1),Z.Q6J("svgIcon","heroicons_outline:archive"),Z.xp6(3),Z.Q6J("ngIf",Z.lcZ(15,18,t.labels$)),Z.xp6(3),Z.Q6J("svgIcon","heroicons_outline:pencil"),Z.xp6(8),Z.Q6J("svgIcon","heroicons_outline:menu"),Z.xp6(2),Z.Q6J("svgIcon","heroicons_solid:search"),Z.xp6(1),Z.Q6J("autocomplete","off")("placeholder","Search notes"),Z.xp6(2),Z.Q6J("color","primary"),Z.xp6(1),Z.Q6J("svgIcon","heroicons_solid:plus-circle"),Z.xp6(3),Z.Q6J("ngIf",Z.lcZ(35,20,t.notes$))("ngIfElse",i)}},directives:[h.kh,h.jA,v.wG,O.mk,g.Hw,O.O5,h.LW,c.lW,f.KE,f.qo,p.Nt,O.sg,m.H],pipes:[O.Ov],encapsulation:2,changeDetection:0}),t}()}]}],we=function(){var e=function e(){o(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[l.Bz.forChild(ke),c.ot,s.p9,u.Is,f.lN,g.Ps,p.c,d.Tx,v.si,h.SJ,x.O,b.m]]}),e}()}}])}();