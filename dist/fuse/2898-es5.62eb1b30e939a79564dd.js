!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(self.webpackChunk_fuse_demo=self.webpackChunk_fuse_demo||[]).push([[2898],{22898:function(e,i,r){r.r(i),r.d(i,{ChatModule:function(){return jt}});var a,o=r(63423),c=r(51095),u=r(7539),s=r(98295),l=r(76627),f=r(83166),g=r(33935),d=r(23017),h=r(44466),p=r(40205),x=r(5304),m=r(37716),v=r(26215),Z=r(25917),b=r(93342),_=r(88002),y=r(43190),w=r(15257),A=r(45435),k=r(91841),T=((a=function(){function e(n){t(this,e),this._httpClient=n,this._chat=new v.X(null),this._chats=new v.X(null),this._contact=new v.X(null),this._contacts=new v.X(null),this._profile=new v.X(null)}return n(e,[{key:"chat$",get:function(){return this._chat.asObservable()}},{key:"chats$",get:function(){return this._chats.asObservable()}},{key:"contact$",get:function(){return this._contact.asObservable()}},{key:"contacts$",get:function(){return this._contacts.asObservable()}},{key:"profile$",get:function(){return this._profile.asObservable()}},{key:"getChats",value:function(){var t=this;return this._httpClient.get("api/apps/chat/chats").pipe((0,b.b)(function(e){t._chats.next(e)}))}},{key:"getContact",value:function(t){var e=this;return this._httpClient.get("api/apps/chat/contacts",{params:{id:t}}).pipe((0,b.b)(function(t){e._contact.next(t)}))}},{key:"getContacts",value:function(){var t=this;return this._httpClient.get("api/apps/chat/contacts").pipe((0,b.b)(function(e){t._contacts.next(e)}))}},{key:"getProfile",value:function(){var t=this;return this._httpClient.get("api/apps/chat/profile").pipe((0,b.b)(function(e){t._profile.next(e)}))}},{key:"getChatById",value:function(t){var e=this;return this._httpClient.get("api/apps/chat/chat",{params:{id:t}}).pipe((0,_.U)(function(t){return e._chat.next(t),t}),(0,y.w)(function(e){return e?(0,Z.of)(e):(0,p._)("Could not found chat with id of "+t+"!")}))}},{key:"updateChat",value:function(t,e){var n=this;return this.chats$.pipe((0,w.q)(1),(0,y.w)(function(i){return n._httpClient.patch("api/apps/chat/chat",{id:t,chat:e}).pipe((0,_.U)(function(e){var r=i.findIndex(function(e){return e.id===t});return i[r]=e,n._chats.next(i),e}),(0,y.w)(function(e){return n.chat$.pipe((0,w.q)(1),(0,A.h)(function(e){return e&&e.id===t}),(0,b.b)(function(){return n._chat.next(e),e}))}))}))}},{key:"resetChat",value:function(){this._chat.next(null)}}]),e}()).\u0275fac=function(t){return new(t||a)(m.LFG(k.eN))},a.\u0275prov=m.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),q=function(){var e=function(){function e(n,i){t(this,e),this._chatService=n,this._router=i}return n(e,[{key:"resolve",value:function(t,e){return this._chatService.getChats()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.LFG(T),m.LFG(o.F0))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Q=function(){var e=function(){function e(n,i){t(this,e),this._chatService=n,this._router=i}return n(e,[{key:"resolve",value:function(t,e){var n=this;return this._chatService.getChatById(t.paramMap.get("id")).pipe((0,x.K)(function(t){console.error(t);var i=e.url.split("/").slice(0,-1).join("/");return n._router.navigateByUrl(i),(0,p._)(t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.LFG(T),m.LFG(o.F0))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),J=function(){var e=function(){function e(n,i){t(this,e),this._chatService=n,this._router=i}return n(e,[{key:"resolve",value:function(t,e){return this._chatService.getContacts()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.LFG(T),m.LFG(o.F0))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),I=function(){var e=function(){function e(n,i){t(this,e),this._chatService=n,this._router=i}return n(e,[{key:"resolve",value:function(t,e){return this._chatService.getProfile()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.LFG(T),m.LFG(o.F0))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),C=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat"]],decls:3,vars:0,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex","flex-auto","overflow-hidden"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m._UZ(2,"router-outlet"),m.qZA(),m.qZA())},directives:[o.lC],encapsulation:2,changeDetection:0}),e}(),U=r(79765),N=r(46782),B=r(38583);function M(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",15),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(2),m.hij(" ",n.name.charAt(0)," ")}}function O(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",16),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(1),m.Q6J("src",n.avatar,m.LSH)}}function F(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",17),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(2),m.hij(" ",n.name.charAt(0)," ")}}function Y(t,e){if(1&t&&(m.ynx(0),m.YNc(1,M,3,1,"ng-container",9),m.TgZ(2,"div",10),m.TgZ(3,"div",11),m.YNc(4,O,2,1,"ng-container",9),m.YNc(5,F,3,1,"ng-container",9),m.qZA(),m.TgZ(6,"div",12),m.TgZ(7,"div",13),m._uU(8),m.qZA(),m.TgZ(9,"div",14),m._uU(10),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&t){var n=e.$implicit,i=e.index,r=m.oxw(2);m.xp6(1),m.Q6J("ngIf",0===i||n.name.charAt(0)!==r.contacts[i-1].name.charAt(0)),m.xp6(3),m.Q6J("ngIf",n.avatar),m.xp6(1),m.Q6J("ngIf",!n.avatar),m.xp6(3),m.Oqu(n.name),m.xp6(2),m.Oqu(n.about)}}function j(t,e){if(1&t&&(m.ynx(0),m.YNc(1,Y,11,5,"ng-container",8),m.BQk()),2&t){var n=m.oxw();m.xp6(1),m.Q6J("ngForOf",n.contacts)("ngForTrackBy",n.trackByFn)}}function S(t,e){1&t&&(m.TgZ(0,"div",18),m._uU(1,"There are no contacts!"),m.qZA())}var L=function(){var e=function(){function e(n){t(this,e),this._chatService=n,this.contacts=[],this._unsubscribeAll=new U.xQ}return n(e,[{key:"ngOnInit",value:function(){var t=this;this._chatService.contacts$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.contacts=e})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"trackByFn",value:function(t,e){return e.id||t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(T))},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat-new-chat"]],inputs:{drawer:"drawer"},decls:10,vars:3,consts:[[1,"flex","flex-col","flex-auto","h-full","overflow-hidden","bg-card","dark:bg-default"],[1,"flex","flex-0","items-center","h-18","-mb-px","px-6","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"ml-2","text-2xl","font-semibold"],[1,"relative","overflow-y-auto"],[4,"ngIf","ngIfElse"],["noContacts",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"z-20","flex","items-center","px-6","py-4","md:px-8","cursor-pointer","border-b","hover:bg-gray-100","dark:hover:bg-hover"],[1,"flex","flex-0","items-center","justify-center","w-10","h-10","rounded-full","overflow-hidden"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary"],[1,"z-10","sticky","top-0","-mt-px","px-6","py-1","md:px-8","border-t","border-b","font-medium","uppercase","text-secondary","bg-gray-100","dark:bg-gray-900"],["alt","Contact avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(t,e){if(1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"button",2),m.NdJ("click",function(){return e.drawer.close()}),m._UZ(3,"mat-icon",3),m.qZA(),m.TgZ(4,"div",4),m._uU(5,"New chat"),m.qZA(),m.qZA(),m.TgZ(6,"div",5),m.YNc(7,j,2,2,"ng-container",6),m.qZA(),m.YNc(8,S,2,0,"ng-template",null,7,m.W1O),m.qZA()),2&t){var n=m.MAs(9);m.xp6(3),m.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),m.xp6(4),m.Q6J("ngIf",e.contacts.length)("ngIfElse",n)}},directives:[c.lW,l.Hw,B.O5,B.sg],encapsulation:2,changeDetection:0}),e}(),H=r(3679);function D(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",17),m.BQk()),2&t){var n=m.oxw();m.xp6(1),m.Q6J("src",n.profile.avatar,m.LSH)("alt","Profile avatar")}}function $(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",18),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(2),m.hij(" ",n.profile.name.charAt(0)," ")}}var R=function(){var e=function(){function e(n){t(this,e),this._chatService=n,this._unsubscribeAll=new U.xQ}return n(e,[{key:"ngOnInit",value:function(){var t=this;this._chatService.profile$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.profile=e})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(T))},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat-profile"]],inputs:{drawer:"drawer"},decls:35,vars:11,consts:[[1,"flex","flex-col","flex-auto","overflow-y-auto","bg-card","dark:bg-default"],[1,"flex","flex-0","items-center","h-18","px-6","border-b","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"ml-2","text-2xl","font-semibold"],[1,"px-6"],[1,"group","relative","flex","flex-0","mt-8","mx-auto","w-40","h-40","rounded-full"],[1,"hidden","group-hover:flex","absolute","inset-0","flex-col","items-center","justify-center","backdrop-filter","backdrop-blur","bg-opacity-80","rounded-full","cursor-pointer","bg-gray-800"],[1,"text-white",3,"svgIcon"],[1,"mt-2","mx-6","font-medium","text-center","text-white"],[4,"ngIf"],[1,"flex","flex-col","mt-8","mx-2"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"ngModel"],[1,"flex","items-center","justify-end","mt-4"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-2",3,"color"],[1,"w-full","h-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-8xl","font-semibold","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"button",2),m.NdJ("click",function(){return e.drawer.close()}),m._UZ(3,"mat-icon",3),m.qZA(),m.TgZ(4,"div",4),m._uU(5,"Profile"),m.qZA(),m.qZA(),m.TgZ(6,"div",5),m.TgZ(7,"div",6),m.TgZ(8,"div",7),m._UZ(9,"mat-icon",8),m.TgZ(10,"div",9),m._uU(11,"Change Profile Photo"),m.qZA(),m.qZA(),m.YNc(12,D,2,2,"ng-container",10),m.YNc(13,$,3,1,"ng-container",10),m.qZA(),m.TgZ(14,"div",11),m.TgZ(15,"mat-form-field"),m.TgZ(16,"mat-label"),m._uU(17,"Name"),m.qZA(),m._UZ(18,"mat-icon",12),m._UZ(19,"input",13),m.qZA(),m.TgZ(20,"mat-form-field"),m.TgZ(21,"mat-label"),m._uU(22,"Email"),m.qZA(),m._UZ(23,"mat-icon",12),m._UZ(24,"input",13),m.qZA(),m.TgZ(25,"mat-form-field"),m.TgZ(26,"mat-label"),m._uU(27,"About"),m.qZA(),m._UZ(28,"mat-icon",12),m._UZ(29,"input",13),m.qZA(),m.TgZ(30,"div",14),m.TgZ(31,"button",15),m.NdJ("click",function(){return e.drawer.close()}),m._uU(32,"Cancel "),m.qZA(),m.TgZ(33,"button",16),m._uU(34,"Save "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(3),m.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),m.xp6(6),m.Q6J("svgIcon","heroicons_outline:camera"),m.xp6(3),m.Q6J("ngIf",e.profile.avatar),m.xp6(1),m.Q6J("ngIf",!e.profile.avatar),m.xp6(5),m.Q6J("svgIcon","heroicons_solid:user-circle"),m.xp6(1),m.Q6J("ngModel",e.profile.name),m.xp6(4),m.Q6J("svgIcon","heroicons_solid:mail"),m.xp6(1),m.Q6J("ngModel",e.profile.email),m.xp6(4),m.Q6J("svgIcon","heroicons_solid:identification"),m.xp6(1),m.Q6J("ngModel",e.profile.about),m.xp6(4),m.Q6J("color","primary"))},directives:[c.lW,l.Hw,B.O5,s.KE,s.hX,s.qo,f.Nt,H.Fj,H.JJ,H.On],encapsulation:2,changeDetection:0}),e}();function z(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"chat-new-chat",8),m.BQk()),2&t){m.oxw();var n=m.MAs(3);m.xp6(1),m.Q6J("drawer",n)}}function P(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"chat-profile",8),m.BQk()),2&t){m.oxw();var n=m.MAs(3);m.xp6(1),m.Q6J("drawer",n)}}function E(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",27),m.BQk()),2&t){var n=m.oxw(2);m.xp6(1),m.Q6J("src",n.profile.avatar,m.LSH)}}function W(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",28),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw(2);m.xp6(2),m.hij(" ",n.profile.name.charAt(0)," ")}}function G(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"div",37),m.BQk()),2&t){var n=m.oxw().$implicit,i=m.oxw(3);m.xp6(1),m.ekj("ring-primary-50",i.selectedChat&&i.selectedChat.id===n.id)}}function X(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",38),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(1),m.Q6J("src",n.contact.avatar,m.LSH)}}function K(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",28),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(2),m.hij(" ",n.contact.name.charAt(0)," ")}}function V(t,e){1&t&&(m.ynx(0),m._UZ(1,"mat-icon",39),m.BQk()),2&t&&(m.xp6(1),m.Q6J("svgIcon","heroicons_solid:volume-off"))}var tt=function(t,e){return{"hover:bg-gray-100 dark:hover:bg-hover":t,"bg-primary-50 dark:bg-hover":e}},et=function(t){return[t]};function nt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",30),m.TgZ(2,"div",31),m.YNc(3,G,2,2,"ng-container",4),m.YNc(4,X,2,1,"ng-container",4),m.YNc(5,K,3,1,"ng-container",4),m.qZA(),m.TgZ(6,"div",32),m.TgZ(7,"div",33),m._uU(8),m.qZA(),m.TgZ(9,"div",34),m._uU(10),m.qZA(),m.qZA(),m.TgZ(11,"div",35),m.TgZ(12,"div",36),m._uU(13),m.qZA(),m.YNc(14,V,2,1,"ng-container",4),m.qZA(),m.qZA(),m.BQk()),2&t){var n=e.$implicit,i=m.oxw(3);m.xp6(1),m.Q6J("ngClass",m.WLB(13,tt,!i.selectedChat||i.selectedChat.id!==n.id,i.selectedChat&&i.selectedChat.id===n.id))("routerLink",m.VKq(16,et,n.id)),m.xp6(2),m.Q6J("ngIf",n.unreadCount>0),m.xp6(1),m.Q6J("ngIf",n.contact.avatar),m.xp6(1),m.Q6J("ngIf",!n.contact.avatar),m.xp6(3),m.Oqu(n.contact.name),m.xp6(1),m.ekj("text-primary",n.unreadCount>0)("dark:text-primary-500",n.unreadCount>0),m.xp6(1),m.hij(" ",n.lastMessage," "),m.xp6(3),m.Oqu(n.lastMessageAt),m.xp6(1),m.Q6J("ngIf",n.muted)}}function it(t,e){if(1&t&&(m.ynx(0),m.YNc(1,nt,15,18,"ng-container",29),m.BQk()),2&t){var n=m.oxw(2);m.xp6(1),m.Q6J("ngForOf",n.filteredChats)("ngForTrackBy",n.trackByFn)}}function rt(t,e){if(1&t){var n=m.EpF();m.ynx(0),m.TgZ(1,"div",9),m.TgZ(2,"div",10),m.TgZ(3,"div",11),m.TgZ(4,"div",12),m.NdJ("click",function(){return m.CHM(n),m.oxw().openProfile()}),m.TgZ(5,"div",13),m.YNc(6,E,2,1,"ng-container",4),m.YNc(7,W,3,1,"ng-container",4),m.qZA(),m.TgZ(8,"div",14),m._uU(9),m.qZA(),m.qZA(),m.TgZ(10,"button",15),m.NdJ("click",function(){return m.CHM(n),m.oxw().openNewChat()}),m._UZ(11,"mat-icon",16),m.qZA(),m.TgZ(12,"button",17),m._UZ(13,"mat-icon",16),m.TgZ(14,"mat-menu",null,18),m.TgZ(16,"button",19),m._UZ(17,"mat-icon",16),m._uU(18," New group "),m.qZA(),m.TgZ(19,"button",19),m._UZ(20,"mat-icon",16),m._uU(21," Create a room "),m.qZA(),m.TgZ(22,"button",20),m.NdJ("click",function(){return m.CHM(n),m.oxw().openProfile()}),m._UZ(23,"mat-icon",16),m._uU(24," Profile "),m.qZA(),m.TgZ(25,"button",19),m._UZ(26,"mat-icon",16),m._uU(27," Archived "),m.qZA(),m.TgZ(28,"button",19),m._UZ(29,"mat-icon",16),m._uU(30," Starred "),m.qZA(),m.TgZ(31,"button",19),m._UZ(32,"mat-icon",16),m._uU(33," Settings "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(34,"div",21),m.TgZ(35,"mat-form-field",22),m._UZ(36,"mat-icon",23),m.TgZ(37,"input",24,25),m.NdJ("input",function(){m.CHM(n);var t=m.MAs(38);return m.oxw().filterChats(t.value)}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(39,"div",26),m.YNc(40,it,2,2,"ng-container",6),m.qZA(),m.qZA(),m.BQk()}if(2&t){var i=m.MAs(15),r=m.oxw(),a=m.MAs(9);m.xp6(6),m.Q6J("ngIf",r.profile.avatar),m.xp6(1),m.Q6J("ngIf",!r.profile.avatar),m.xp6(2),m.Oqu(r.profile.name),m.xp6(2),m.Q6J("svgIcon","heroicons_outline:plus-circle"),m.xp6(1),m.Q6J("matMenuTriggerFor",i),m.xp6(1),m.Q6J("svgIcon","heroicons_outline:dots-vertical"),m.xp6(4),m.Q6J("svgIcon","heroicons_outline:user-group"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:chat-alt-2"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:user-circle"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:archive"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:star"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:cog"),m.xp6(3),m.Q6J("floatLabel","always"),m.xp6(1),m.Q6J("svgIcon","heroicons_solid:search"),m.xp6(1),m.Q6J("autocomplete","off")("placeholder","Search or start new chat"),m.xp6(3),m.Q6J("ngIf",r.filteredChats.length>0)("ngIfElse",a)}}function at(t,e){1&t&&(m.TgZ(0,"div",40),m._UZ(1,"mat-icon",41),m.TgZ(2,"div",42),m._uU(3,"No chats"),m.qZA(),m.qZA()),2&t&&(m.xp6(1),m.Q6J("svgIcon","iconsmind:speach_bubble"))}var ot=function(t,e){return{"z-20 absolute inset-0 lg:static lg:inset-auto flex":t,"hidden lg:flex":e}};function ct(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",43),m._UZ(2,"router-outlet"),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(1),m.Q6J("ngClass",m.WLB(1,ot,n.selectedChat&&n.selectedChat.id,!n.selectedChat||!n.selectedChat.id))}}var ut=function(){var e=function(){function e(n,i){t(this,e),this._chatService=n,this._changeDetectorRef=i,this.drawerOpened=!1,this._unsubscribeAll=new U.xQ}return n(e,[{key:"ngOnInit",value:function(){var t=this;this._chatService.chats$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.chats=t.filteredChats=e,t._changeDetectorRef.markForCheck()}),this._chatService.profile$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.profile=e,t._changeDetectorRef.markForCheck()}),this._chatService.chat$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.selectedChat=e,t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"filterChats",value:function(t){this.filteredChats=t?this.chats.filter(function(e){return e.contact.name.toLowerCase().includes(t.toLowerCase())}):this.chats}},{key:"openNewChat",value:function(){this.drawerComponent="new-chat",this.drawerOpened=!0,this._changeDetectorRef.markForCheck()}},{key:"openProfile",value:function(){this.drawerComponent="profile",this.drawerOpened=!0,this._changeDetectorRef.markForCheck()}},{key:"trackByFn",value:function(t,e){return e.id||t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(T),m.Y36(m.sBO))},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat-chats"]],decls:11,vars:8,consts:[[1,"relative","flex","flex-auto","w-full","bg-card","dark:bg-transparent"],[1,"flex-auto","h-full",3,"hasBackdrop"],[1,"w-full","sm:w-100","lg:border-r","lg:shadow-none","dark:bg-gray-900",3,"autoFocus","opened","openedChange"],["drawer",""],[4,"ngIf"],[1,"flex","overflow-hidden"],[4,"ngIf","ngIfElse"],["noChats",""],[3,"drawer"],[1,"relative","flex","flex-auto","flex-col","w-full","min-w-0","lg:min-w-100","lg:max-w-100","bg-card","dark:bg-transparent"],[1,"flex","flex-col","flex-0","py-4","px-8","border-b","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center"],[1,"flex","items-center","mr-1","cursor-pointer",3,"click"],[1,"w-10","h-10"],[1,"ml-4","font-medium","truncate"],["mat-icon-button","",1,"ml-auto",3,"click"],[3,"svgIcon"],["mat-icon-button","",1,"ml-1","-mr-4",3,"matMenuTriggerFor"],["chatsHeaderMenu",""],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-dense","w-full",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchField",""],[1,"flex-auto","overflow-y-auto"],["alt","Profile avatar",1,"object-cover","w-full","h-full","rounded-full","object-cover",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","items-center","py-5","px-8","cursor-pointer","border-b",3,"ngClass","routerLink"],[1,"relative","flex","flex-0","items-center","justify-center","w-10","h-10"],[1,"min-w-0","ml-4"],[1,"font-medium","leading-5","truncate"],[1,"leading-5","truncate","text-secondary"],[1,"flex","flex-col","items-end","self-start","ml-auto","pl-2"],[1,"text-sm","leading-5","text-secondary"],[1,"absolute","bottom-0","right-0","flex-0","w-2","h-2","-ml-0.5","rounded-full","ring-2","ring-bg-card","dark:ring-gray-900","bg-primary","dark:bg-primary-500","text-on-primary"],["alt","Contact avatar",1,"w-full","h-full","rounded-full","object-cover",3,"src"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","justify-center","h-full"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],[1,"flex-auto","border-l",3,"ngClass"]],template:function(t,e){if(1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"mat-drawer-container",1),m.TgZ(2,"mat-drawer",2,3),m.NdJ("openedChange",function(t){return e.drawerOpened=t}),m.YNc(4,z,2,1,"ng-container",4),m.YNc(5,P,2,1,"ng-container",4),m.qZA(),m.TgZ(6,"mat-drawer-content",5),m.YNc(7,rt,41,18,"ng-container",6),m.YNc(8,at,4,1,"ng-template",null,7,m.W1O),m.YNc(10,ct,3,4,"ng-container",4),m.qZA(),m.qZA(),m.qZA()),2&t){var n=m.MAs(9);m.xp6(1),m.Q6J("hasBackdrop",!1),m.xp6(1),m.Q6J("autoFocus",!1)("opened",e.drawerOpened),m.xp6(2),m.Q6J("ngIf","new-chat"===e.drawerComponent),m.xp6(1),m.Q6J("ngIf","profile"===e.drawerComponent),m.xp6(2),m.Q6J("ngIf",e.chats&&e.chats.length>0)("ngIfElse",n),m.xp6(3),m.Q6J("ngIf",e.chats&&e.chats.length>0)}},directives:[d.kh,d.jA,B.O5,d.LW,L,R,c.lW,l.Hw,g.p6,g.VK,g.OP,s.KE,s.qo,f.Nt,B.sg,B.mk,o.rH,o.lC],encapsulation:2,changeDetection:0}),e}(),st=r(91812);function lt(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",17),m.BQk()),2&t){var n=m.oxw();m.xp6(1),m.Q6J("src",n.chat.contact.avatar,m.LSH)("alt","Contact avatar")}}function ft(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",18),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(2),m.hij(" ",n.chat.contact.name.charAt(0)," ")}}function gt(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",19),m.BQk()),2&t){var n=e.$implicit;m.xp6(1),m.Q6J("src",n,m.LSH)}}function dt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Email"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.emails[0].email)}}function ht(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Phone number"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.phoneNumbers[0].phoneNumber)}}function pt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Title"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.title)}}function xt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Company"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.company)}}function mt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Birthday"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.birthday)}}function vt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div"),m.TgZ(2,"div",20),m._uU(3,"Address"),m.qZA(),m.TgZ(4,"div",21),m._uU(5),m.qZA(),m.qZA(),m.BQk()),2&t){var n=m.oxw();m.xp6(5),m.Oqu(n.chat.contact.details.address)}}var Zt=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat-contact-info"]],inputs:{chat:"chat",drawer:"drawer"},decls:29,vars:12,consts:[[1,"flex","flex-col","flex-auto","h-full","bg-card","dark:bg-default"],[1,"flex","flex-0","items-center","h-18","px-4","border-b","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"ml-2","text-lg","font-medium"],[1,"overflow-y-auto"],[1,"flex","flex-col","items-center","mt-8"],[1,"w-40","h-40","rounded-full"],[4,"ngIf"],[1,"mt-4","text-lg","font-medium"],[1,"mt-0.5","text-md","text-secondary"],[1,"py-10","px-7"],[1,"text-lg","font-medium"],[1,"grid","grid-cols-4","gap-1","mt-4"],[4,"ngFor","ngForOf"],[1,"mt-10","space-y-4"],[1,"text-lg","font-medium","mb-3"],[1,"w-full","h-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-8xl","font-semibold","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"h-20","rounded","object-cover",3,"src"],[1,"font-medium","text-secondary"],[1,""]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"button",2),m.NdJ("click",function(){return e.drawer.close()}),m._UZ(3,"mat-icon",3),m.qZA(),m.TgZ(4,"div",4),m._uU(5,"Contact info"),m.qZA(),m.qZA(),m.TgZ(6,"div",5),m.TgZ(7,"div",6),m.TgZ(8,"div",7),m.YNc(9,lt,2,2,"ng-container",8),m.YNc(10,ft,3,1,"ng-container",8),m.qZA(),m.TgZ(11,"div",9),m._uU(12),m.qZA(),m.TgZ(13,"div",10),m._uU(14),m.qZA(),m.qZA(),m.TgZ(15,"div",11),m.TgZ(16,"div",12),m._uU(17,"Media"),m.qZA(),m.TgZ(18,"div",13),m.YNc(19,gt,2,1,"ng-container",14),m.qZA(),m.TgZ(20,"div",15),m.TgZ(21,"div",16),m._uU(22,"Details"),m.qZA(),m.YNc(23,dt,6,1,"ng-container",8),m.YNc(24,ht,6,1,"ng-container",8),m.YNc(25,pt,6,1,"ng-container",8),m.YNc(26,xt,6,1,"ng-container",8),m.YNc(27,mt,6,1,"ng-container",8),m.YNc(28,vt,6,1,"ng-container",8),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(3),m.Q6J("svgIcon","heroicons_outline:x"),m.xp6(6),m.Q6J("ngIf",e.chat.contact.avatar),m.xp6(1),m.Q6J("ngIf",!e.chat.contact.avatar),m.xp6(2),m.Oqu(e.chat.contact.name),m.xp6(2),m.Oqu(e.chat.contact.about),m.xp6(5),m.Q6J("ngForOf",e.chat.contact.attachments.media),m.xp6(4),m.Q6J("ngIf",e.chat.contact.details.emails.length),m.xp6(1),m.Q6J("ngIf",e.chat.contact.details.phoneNumbers.length),m.xp6(1),m.Q6J("ngIf",e.chat.contact.details.title),m.xp6(1),m.Q6J("ngIf",e.chat.contact.details.company),m.xp6(1),m.Q6J("ngIf",e.chat.contact.details.birthday),m.xp6(1),m.Q6J("ngIf",e.chat.contact.details.address))},directives:[c.lW,l.Hw,B.O5,B.sg],encapsulation:2,changeDetection:0}),e}(),bt=["messageInput"];function _t(t,e){if(1&t&&(m.ynx(0),m._UZ(1,"img",32),m.BQk()),2&t){var n=m.oxw(2);m.xp6(1),m.Q6J("src",n.chat.contact.avatar,m.LSH)}}function yt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",33),m._uU(2),m.qZA(),m.BQk()),2&t){var n=m.oxw(2);m.xp6(2),m.hij(" ",n.chat.contact.name.charAt(0)," ")}}function wt(t,e){1&t&&(m.ynx(0),m._UZ(1,"mat-icon",11),m._uU(2," Mute notifications "),m.BQk()),2&t&&(m.xp6(1),m.Q6J("svgIcon","heroicons_outline:volume-off"))}function At(t,e){1&t&&(m.ynx(0),m._UZ(1,"mat-icon",11),m._uU(2," Unmute notifications "),m.BQk()),2&t&&(m.xp6(1),m.Q6J("svgIcon","heroicons_outline:volume-up"))}function kt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",37),m._UZ(2,"div",38),m.TgZ(3,"div",39),m._uU(4),m.ALo(5,"date"),m.qZA(),m._UZ(6,"div",38),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(4),m.hij(" ",m.xi3(5,1,n.createdAt,"longDate")," ")}}function Tt(t,e){1&t&&m.GkF(0)}var qt=function(t,e){return{"text-blue-500 -right-1 -mr-px mb-px":t,"text-gray-500 -left-1 -ml-px mb-px -scale-x-1":e}};function Qt(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",40),m.YNc(2,Tt,1,0,"ng-container",41),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.oxw(2);var i=m.MAs(5);m.xp6(1),m.Q6J("ngClass",m.WLB(2,qt,n.isMine,!n.isMine)),m.xp6(1),m.Q6J("ngTemplateOutlet",i)}}var Jt=function(t,e){return{"mr-3":t,"ml-3":e}};function It(t,e){if(1&t&&(m.ynx(0),m.TgZ(1,"div",42),m._uU(2),m.ALo(3,"date"),m.qZA(),m.BQk()),2&t){var n=m.oxw().$implicit;m.xp6(1),m.Q6J("ngClass",m.WLB(5,Jt,n.isMine,!n.isMine)),m.xp6(1),m.hij(" ",m.xi3(3,2,n.createdAt,"HH:mm")," ")}}var Ct=function(t,e,n,i){return{"items-end":t,"items-start":e,"mt-0.5":n,"mt-3":i}},Ut=function(t,e){return{"bg-blue-500 text-blue-50":t,"bg-gray-500 text-gray-50":e}};function Nt(t,e){if(1&t&&(m.ynx(0),m.YNc(1,kt,7,4,"ng-container",14),m.ALo(2,"date"),m.ALo(3,"date"),m.TgZ(4,"div",34),m.TgZ(5,"div",35),m.YNc(6,Qt,3,5,"ng-container",14),m._UZ(7,"div",36),m.qZA(),m.YNc(8,It,4,8,"ng-container",14),m.qZA(),m.BQk()),2&t){var n=e.$implicit,i=e.index,r=e.first,a=e.last,o=m.oxw(2);m.xp6(1),m.Q6J("ngIf",r||m.xi3(2,6,o.chat.messages[i-1].createdAt,"d")!==m.xi3(3,9,n.createdAt,"d")),m.xp6(3),m.Q6J("ngClass",m.l5B(12,Ct,n.isMine,!n.isMine,i>0&&o.chat.messages[i-1].isMine===n.isMine,i>0&&o.chat.messages[i-1].isMine!==n.isMine)),m.xp6(1),m.Q6J("ngClass",m.WLB(17,Ut,n.isMine,!n.isMine)),m.xp6(1),m.Q6J("ngIf",a||o.chat.messages[i+1].isMine!==n.isMine),m.xp6(1),m.Q6J("innerHTML",n.value,m.oJD),m.xp6(1),m.Q6J("ngIf",r||a||o.chat.messages[i+1].isMine!==n.isMine||o.chat.messages[i+1].createdAt!==n.createdAt)}}var Bt=function(){return["./"]};function Mt(t,e){if(1&t){var n=m.EpF();m.ynx(0),m.TgZ(1,"mat-drawer-container",4),m.TgZ(2,"mat-drawer",5,6),m.NdJ("openedChange",function(t){return m.CHM(n),m.oxw().drawerOpened=t}),m._UZ(4,"chat-contact-info",7),m.qZA(),m.TgZ(5,"mat-drawer-content",8),m.TgZ(6,"div",9),m.TgZ(7,"a",10),m.NdJ("click",function(){return m.CHM(n),m.oxw().resetChat()}),m._UZ(8,"mat-icon",11),m.qZA(),m.TgZ(9,"div",12),m.NdJ("click",function(){return m.CHM(n),m.oxw().openContactInfo()}),m.TgZ(10,"div",13),m.YNc(11,_t,2,1,"ng-container",14),m.YNc(12,yt,3,1,"ng-container",14),m.qZA(),m.TgZ(13,"div",15),m._uU(14),m.qZA(),m.qZA(),m.TgZ(15,"button",16),m._UZ(16,"mat-icon",11),m.TgZ(17,"mat-menu",null,17),m.TgZ(19,"button",18),m.NdJ("click",function(){return m.CHM(n),m.oxw().openContactInfo()}),m._UZ(20,"mat-icon",11),m._uU(21," Contact info "),m.qZA(),m.TgZ(22,"button",19),m._UZ(23,"mat-icon",11),m._uU(24," Select messages "),m.qZA(),m.TgZ(25,"button",18),m.NdJ("click",function(){return m.CHM(n),m.oxw().toggleMuteNotifications()}),m.YNc(26,wt,3,1,"ng-container",14),m.YNc(27,At,3,1,"ng-container",14),m.qZA(),m.TgZ(28,"button",19),m._UZ(29,"mat-icon",11),m._uU(30," Clear messages "),m.qZA(),m.TgZ(31,"button",19),m._UZ(32,"mat-icon",11),m._uU(33," Delete chat "),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(34,"div",20),m.TgZ(35,"div",21),m.YNc(36,Nt,9,20,"ng-container",22),m.qZA(),m.qZA(),m.TgZ(37,"div",23),m.TgZ(38,"div",24),m.TgZ(39,"button",25),m._UZ(40,"mat-icon",11),m.qZA(),m.TgZ(41,"button",26),m._UZ(42,"mat-icon",11),m.qZA(),m.qZA(),m.TgZ(43,"mat-form-field",27),m._UZ(44,"textarea",28,29),m.qZA(),m.TgZ(46,"div",30),m.TgZ(47,"button",25),m._UZ(48,"mat-icon",31),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.BQk()}if(2&t){var i=m.MAs(3),r=m.MAs(18),a=m.oxw();m.xp6(1),m.Q6J("hasBackdrop",!1),m.xp6(1),m.Q6J("autoFocus",!1)("mode",a.drawerMode)("position","end")("opened",a.drawerOpened),m.xp6(2),m.Q6J("drawer",i)("chat",a.chat),m.xp6(3),m.Q6J("routerLink",m.DdM(26,Bt)),m.xp6(1),m.Q6J("svgIcon","heroicons_outline:arrow-narrow-left"),m.xp6(3),m.Q6J("ngIf",a.chat.contact.avatar),m.xp6(1),m.Q6J("ngIf",!a.chat.contact.avatar),m.xp6(2),m.Oqu(a.chat.contact.name),m.xp6(1),m.Q6J("matMenuTriggerFor",r),m.xp6(1),m.Q6J("svgIcon","heroicons_outline:dots-vertical"),m.xp6(4),m.Q6J("svgIcon","heroicons_outline:user-circle"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:check-circle"),m.xp6(3),m.Q6J("ngIf",!a.chat.muted),m.xp6(1),m.Q6J("ngIf",a.chat.muted),m.xp6(2),m.Q6J("svgIcon","heroicons_outline:backspace"),m.xp6(3),m.Q6J("svgIcon","heroicons_outline:trash"),m.xp6(4),m.Q6J("ngForOf",a.chat.messages)("ngForTrackBy",a.trackByFn),m.xp6(4),m.Q6J("svgIcon","heroicons_outline:emoji-happy"),m.xp6(2),m.Q6J("svgIcon","heroicons_outline:paper-clip"),m.xp6(2),m.Q6J("rows",1),m.xp6(4),m.Q6J("svgIcon","heroicons_outline:paper-airplane")}}function Ot(t,e){1&t&&(m.TgZ(0,"div",43),m._UZ(1,"mat-icon",44),m.TgZ(2,"div",45),m._uU(3,"Select a conversation or start a new chat"),m.qZA(),m.qZA()),2&t&&(m.xp6(1),m.Q6J("svgIcon","iconsmind:speach_bubble"))}function Ft(t,e){1&t&&(m.O4$(),m.TgZ(0,"svg",46),m.TgZ(1,"g",47),m._UZ(2,"path",48),m.qZA(),m.qZA())}var Yt=[{path:"",component:C,resolve:{chats:q,contacts:J,profile:I},children:[{path:"",component:ut,children:[{path:"",component:function(){var e=function(){function e(n,i,r,a){t(this,e),this._changeDetectorRef=n,this._chatService=i,this._fuseMediaWatcherService=r,this._ngZone=a,this.drawerMode="side",this.drawerOpened=!1,this._unsubscribeAll=new U.xQ}return n(e,[{key:"_resizeMessageInput",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){setTimeout(function(){t.messageInput.nativeElement.style.height="auto",t._changeDetectorRef.detectChanges(),t.messageInput.nativeElement.style.height="".concat(t.messageInput.nativeElement.scrollHeight,"px"),t._changeDetectorRef.detectChanges()})})}},{key:"ngOnInit",value:function(){var t=this;this._chatService.chat$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){t.chat=e,t._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,N.R)(this._unsubscribeAll)).subscribe(function(e){var n=e.matchingAliases;t.drawerMode=n.includes("lg")?"side":"over",t._changeDetectorRef.markForCheck()})}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"openContactInfo",value:function(){this.drawerOpened=!0,this._changeDetectorRef.markForCheck()}},{key:"resetChat",value:function(){this._chatService.resetChat(),this.drawerOpened=!1,this._changeDetectorRef.markForCheck()}},{key:"toggleMuteNotifications",value:function(){this.chat.muted=!this.chat.muted,this._chatService.updateChat(this.chat.id,this.chat).subscribe()}},{key:"trackByFn",value:function(t,e){return e.id||t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.sBO),m.Y36(T),m.Y36(st.T),m.Y36(m.R0b))},e.\u0275cmp=m.Xpm({type:e,selectors:[["chat-conversation"]],viewQuery:function(t,e){var n;(1&t&&m.Gf(bt,5),2&t)&&(m.iGM(n=m.CRH())&&(e.messageInput=n.first))},hostBindings:function(t,e){1&t&&m.NdJ("input",function(){return e._resizeMessageInput()})("ngModelChange",function(){return e._resizeMessageInput()})},decls:6,vars:2,consts:[[1,"flex","flex-col","flex-auto","overflow-y-auto","lg:overflow-hidden","bg-card","dark:bg-default"],[4,"ngIf","ngIfElse"],["selectChatOrStartNew",""],["speechBubbleExtension",""],[1,"flex-auto","h-full",3,"hasBackdrop"],[1,"w-full","sm:w-100","lg:border-l","lg:shadow-none","dark:bg-gray-900",3,"autoFocus","mode","position","opened","openedChange"],["drawer",""],[3,"drawer","chat"],[1,"flex","flex-col","overflow-hidden"],[1,"flex","flex-0","items-center","h-18","px-4","md:px-6","border-b","bg-gray-50","dark:bg-transparent"],["mat-icon-button","",1,"lg:hidden","md:-ml-2",3,"routerLink","click"],[3,"svgIcon"],[1,"flex","items-center","ml-2","lg:ml-0","mr-2","cursor-pointer",3,"click"],[1,"relative","flex","flex-0","items-center","justify-center","w-10","h-10"],[4,"ngIf"],[1,"ml-4","text-lg","font-medium","leading-5","truncate"],["mat-icon-button","",1,"ml-auto",3,"matMenuTriggerFor"],["conversationHeaderMenu",""],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"flex","overflow-y-auto","flex-col-reverse"],[1,"flex","flex-col","flex-auto","flex-shrink","p-6","bg-card","dark:bg-transparent"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-end","p-4","border-t","bg-gray-50","dark:bg-transparent"],[1,"flex","items-center","h-11","my-px"],["mat-icon-button",""],["mat-icon-button","",1,"ml-0.5"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","w-full","ml-4"],["matInput","",1,"min-h-5","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"rows"],["messageInput",""],[1,"flex","items-center","h-11","my-px","ml-4"],[1,"transform","rotate-90",3,"svgIcon"],["alt","Contact avatar",1,"w-full","h-full","rounded-full","object-cover",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","flex-col",3,"ngClass"],[1,"relative","max-w-3/4","px-3","py-2","rounded-lg",3,"ngClass"],[1,"min-w-4","leading-5",3,"innerHTML"],[1,"flex","items-center","justify-center","my-3","-mx-6"],[1,"flex-auto","border-b"],[1,"flex-0","mx-4","text-sm","font-medium","leading-5","text-secondary"],[1,"absolute","bottom-0","w-3","transform",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"my-0.5","text-sm","font-medium","text-secondary",3,"ngClass"],[1,"flex","flex-col","flex-auto","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"],["width","100%","height","100%","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M1.01522827,0.516204834 C-8.83532715,54.3062744 61.7609863,70.5215302 64.8009949,64.3061218 C68.8074951,54.8859711 30.1663208,52.9997559 37.5036011,0.516204834 L1.01522827,0.516204834 Z","fill","currentColor","fill-rule","nonzero"]],template:function(t,e){if(1&t&&(m.TgZ(0,"div",0),m.YNc(1,Mt,49,27,"ng-container",1),m.YNc(2,Ot,4,1,"ng-template",null,2,m.W1O),m.YNc(4,Ft,3,0,"ng-template",null,3,m.W1O),m.qZA()),2&t){var n=m.MAs(3);m.xp6(1),m.Q6J("ngIf",e.chat)("ngIfElse",n)}},directives:[B.O5,d.kh,d.jA,Zt,d.LW,c.zs,o.yS,l.Hw,c.lW,g.p6,g.VK,g.OP,B.sg,s.KE,f.Nt,B.mk,B.tP],pipes:[B.uU],encapsulation:2,changeDetection:0}),e}(),children:[{path:":id",resolve:{conversation:Q}}]}]}]}],jt=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[o.Bz.forChild(Yt),c.ot,u.p9,s.lN,l.Ps,f.c,g.Tx,d.SJ,h.m]]}),e}()}}])}();