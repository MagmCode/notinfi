<h2 mat-dialog-title class="title-center">Artículos a solicitar</h2>
<form [formGroup]="artFormulario"  > 
    <input matInput formControlName="id" hidden>   
    <input matInput [formControl]="evento" hidden> 
     
    <mat-dialog-content class="mat-typography">
        <div class="grid grid-cols-8  gap-3  text-center "   >
       

                <div class="col-start-3 col-end-7  ">
                    <mat-form-field appearance="fill"class="width100">
                        <mat-label>Seleccione tipo de artículo</mat-label>
                        <mat-select class="inputMat" id="selectart" formControlName="IdTipoArticulo" required  #buySellSelect="matSelect" (ngModelChange)="mostrarInput()" >  <!--  -->
                            <mat-option>
                                <ngx-mat-select-search [formControl]="tipoImpresoraFiltrosCtrl"   [placeholderLabel]="'Buscar...'"
                                [noEntriesFoundLabel]="'No Encontrado'" >
                                <mat-icon class="mr-1 icon-size-5"    ngxMatSelectSearchClear                                            
                                [svgIcon]="'heroicons_solid:x'"></mat-icon></ngx-mat-select-search>
                              </mat-option>
                          <mat-option *ngFor="let tipoArticulo of filtrotipoArticulo | async" [value]="tipoArticulo.id" >  <!--  -->
                             {{tipoArticulo.name}}
                            </mat-option>
                         </mat-select>
                         <mat-error *ngIf="artFormulario.get('IdTipoArticulo')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error>  
                    </mat-form-field>
                </div>

            </div>

    <div [hidden]="!isShown" id="divshow">
        <div  class="grid grid-cols-4 gap-4">
            <div  class="col-span-2">
                    <mat-form-field appearance="fill"class="width100">
                        <mat-label>Descripción de artículo</mat-label>
                        <mat-select class="inputMat"  formControlName="idDescrArt"  id="selectDescrArt"  #buySellSelect="matSelect" (ngModelChange)="mostrarUnidadV()" >  <!--  -->
                            <mat-option>
                                <ngx-mat-select-search [formControl]="descrArticuloFiltrosCtrl"   [placeholderLabel]="'Buscar...'"
                                [noEntriesFoundLabel]="'No Encontrado'" >
                                <mat-icon class="mr-1 icon-size-5"    ngxMatSelectSearchClear                                            
                                [svgIcon]="'heroicons_solid:x'"></mat-icon></ngx-mat-select-search>
                            </mat-option>
                        <mat-option *ngFor="let descrArticulo of filtrodescrArticulo | async" [value]="descrArticulo.id" >  <!--  -->
                            {{descrArticulo.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="artFormulario.get('idDescrArt')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error>             
                    </mat-form-field>
            </div>
                    <div  class="col-span-1">
                    <mat-form-field appearance="fill" class="width100">
                        <mat-label>Cantidad</mat-label>
                        <input matInput formControlName="cantidad" type="text"  ng-pattern="/^[0-9]/" maxlength="3" max="999"> 
                        <mat-error *ngIf="artFormulario.get('cantidad')?.hasError">
                            Campo <strong>Obligatorio, solo numero</strong>
                        </mat-error> 
                    </mat-form-field>  
                    </div>
                    <div  class="col-span-1">
                        <mat-form-field appearance="fill" class="width100">
                            <mat-label>Unidad de medida</mat-label>
                            <input matInput formControlName="unidadV" readonly>                 
                        </mat-form-field> 
                </div>

                <div  class="col-span-4" [hidden]="!isShownO">
                    <mat-form-field  appearance="fill"class="width100 "  style="width: 100%;">
                        <mat-label>Observación</mat-label>
                        <textarea matInput placeholder="" [formControl]="observacion"  required></textarea>
                        <mat-error *ngIf="observacion.hasError('required')">
                          Campo <strong>Obligatorio</strong>
                      </mat-error>    
                    
                      </mat-form-field>
            </div>
          

                    </div>


        </div>

            <div [hidden]="!isShownC" id="divshowC">
                <div  class="grid grid-cols-3 gap-4">
                    <mat-form-field appearance="fill" class="width100">
                        <mat-label>Dirección IP</mat-label>
                        <input matInput  formControlName="direccionIp"> 
                        <mat-error *ngIf="artFormulario.get('direccionIp')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error> 
                    </mat-form-field>  
              
                    <mat-form-field appearance="fill"class="width100">
                        <mat-label>Tipo de impresora</mat-label>
                        <mat-select class="inputMat"   formControlName="idTipoImpre" id="selectTipoImpre"    #buySellSelect="matSelect" (ngModelChange)="mostrarModelo()" >  <!--  -->
                            <mat-option>
                                <ngx-mat-select-search [formControl]="tipoImpresoraFiltrosCtrl"   [placeholderLabel]="'Buscar...'"
                                [noEntriesFoundLabel]="'No Encontrado'" >
                                <mat-icon class="mr-1 icon-size-5"    ngxMatSelectSearchClear                                            
                                [svgIcon]="'heroicons_solid:x'"></mat-icon></ngx-mat-select-search>
                            </mat-option>
                        <mat-option *ngFor="let tipoImpresora of filtrotipoImpresora | async" [value]="tipoImpresora.id" >  <!--  -->
                            {{tipoImpresora.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="artFormulario.get('idTipoImpre')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error>     
                    </mat-form-field>

             
                    <mat-form-field appearance="fill"class="width100">
                        <mat-label>Modelo de impresora</mat-label>
                        <mat-select class="inputMat" formControlName="idTipoModelo"  id="selectTipoModelo"  #buySellSelect="matSelect"  (ngModelChange)="mostrardescConsumible()">  <!--  -->
                            <mat-option>
                                <ngx-mat-select-search [formControl]="tipoModeloFiltrosCtrl"   [placeholderLabel]="'Buscar...'"
                                [noEntriesFoundLabel]="'No Encontrado'" >
                                <mat-icon class="mr-1 icon-size-5"    ngxMatSelectSearchClear                                            
                                [svgIcon]="'heroicons_solid:x'"></mat-icon></ngx-mat-select-search>
                            </mat-option>
                        <mat-option *ngFor="let tipoModelo of filtrotipoModelo | async" [value]="tipoModelo.id" >  <!--  -->
                            {{tipoModelo.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="artFormulario.get('idTipoModelo')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error>      
                    </mat-form-field>

                    <mat-form-field appearance="fill"class="width100">
                        <mat-label>DESCRIPCIÓN CONSUMIBLE</mat-label>
                        <mat-select class="inputMat" formControlName="idDescConsumible"  id="selectDescConsumible"  #buySellSelect="matSelect"  >  <!--  -->
                            <mat-option>
                                <ngx-mat-select-search [formControl]="descConsumibleFiltrosCtrl"   [placeholderLabel]="'Buscar...'"
                                [noEntriesFoundLabel]="'No Encontrado'" >
                                <mat-icon class="mr-1 icon-size-5"    ngxMatSelectSearchClear                                            
                                [svgIcon]="'heroicons_solid:x'"></mat-icon></ngx-mat-select-search>
                            </mat-option>
                        <mat-option *ngFor="let descConsumible of filtrodescConsumible | async" [value]="descConsumible.id" >  <!--  -->
                            {{descConsumible.name}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="artFormulario.get('idDescConsumible')?.hasError">
                            Campo <strong>Obligatorio</strong>
                        </mat-error>      
                    </mat-form-field>



                    <mat-form-field appearance="fill" class="width100">
                        <mat-label>Cantidad</mat-label>
                        <input matInput formControlName="cantidad" type="text" ng-pattern="/^[0-9]+$/" maxlength="3" max="999"> 
                        <mat-error *ngIf="artFormulario.get('cantidad')?.hasError">
                            Campo <strong>Obligatorio, solo número</strong>
                        </mat-error>  
                    </mat-form-field>  
<div [hidden]="!isShownO">
    <mat-form-field  appearance="fill"class="width100 "  style="width: 100%;">
        <mat-label>Observación</mat-label>
        <textarea matInput placeholder="" [formControl]="observacion"  required></textarea>
        <mat-error *ngIf="observacion.hasError('required')">
          Campo <strong>Obligatorio</strong>
      </mat-error>    
    
      </mat-form-field>
                </div>
                </div>
            </div>


           
     
    </mat-dialog-content>

    <mat-dialog-actions align="end">
        <button mat-raised-button color="accent" (click)="onNoClick()">Cancelar</button>
    
        <button type="button" mat-raised-button color="primary" cdkFocusInitial   type="submit"  (click)="asignar()"  >Asignar</button>
    
      </mat-dialog-actions>  
</form>
